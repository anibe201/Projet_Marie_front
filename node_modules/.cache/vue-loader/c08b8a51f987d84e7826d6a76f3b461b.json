{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\Admins\\Order\\OrderItems.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\Admins\\Order\\OrderItems.vue","mtime":1666372807249},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664810865393},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1664810865430},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664810865393},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1664810875252}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBPcmRlckl0ZW1TZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvT3JkZXJJdGVtU2VydmljZS5qcyI7CmltcG9ydCBPcmRlclNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9PcmRlclNlcnZpY2UuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk9yZGVySXRlbXMiLAogIHByb3BzOiB7CiAgICBvcmRlckl0ZW1zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIG9yZGVySW5mbzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3JkZXJTdGF0dXM6IHRoaXMub3JkZXJJbmZvLnN0YXR1cywKICAgICAgc3RhdHVzVmFyaWFudDogdGhpcy5vcmRlckluZm8udmFyaWFudCwKICAgICAgYWxsU3RhdHVzOiBbCiAgICAgICAgewogICAgICAgICAgbmFtZTogInBhaWQiLAogICAgICAgICAgdmFyaWFudDogImRhcmsiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAicHJlcGFyaW5nIiwKICAgICAgICAgIHZhcmlhbnQ6ICJpbmZvIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogIm9uIHRoZSB3YXkiLAogICAgICAgICAgdmFyaWFudDogIndhcm5pbmciCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAiY29tcGxldGUiLAogICAgICAgICAgdmFyaWFudDogInN1Y2Nlc3MiCiAgICAgICAgfQogICAgICBdCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIHVwZGF0ZVN0YXR1cyhzdGF0dXMpIHsKICAgICAgdGhpcy5vcmRlclN0YXR1cyA9IHN0YXR1cy5uYW1lOwogICAgICB0aGlzLnN0YXR1c1ZhcmlhbnQgPSBzdGF0dXMudmFyaWFudDsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBPcmRlclNlcnZpY2UudXBkYXRlT3JkZXIoewogICAgICAgICAgaWQ6IHRoaXMub3JkZXJJbmZvLmlkLAogICAgICAgICAgc3RhdHVzOiBzdGF0dXMubmFtZSwKICAgICAgICAgIHZhcmlhbnQ6IHN0YXR1cy52YXJpYW50CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBkZWxldGVPcmRlcigpIHsKICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLm9yZGVySXRlbXMpIHsKICAgICAgICB0cnkgewogICAgICAgICAgYXdhaXQgT3JkZXJJdGVtU2VydmljZS5kZWxldGVPcmRlckl0ZW0odGhpcy5vcmRlckl0ZW1zW2ldLmlkKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgT3JkZXJTZXJ2aWNlLmRlbGV0ZU9yZGVyKHRoaXMub3JkZXJJbmZvLmlkKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgfQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvYWRtaW4vb3JkZXJzIiB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7fQp9Owo="},{"version":3,"sources":["OrderItems.vue"],"names":[],"mappings":";AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderItems.vue","sourceRoot":"src/components/Admins/Order","sourcesContent":["<template>\n  <div>\n    <b-row>\n      <b-col cols=\"6\" v-for=\"orderItem in orderItems\" :key=\"orderItem.id\">\n        <b-card-group deck>\n          <b-card img-top style=\"max-width: 14rem\" class=\"mb-4\">\n            <b-card-img\n              :src=\"orderItem.Product.image1\"\n              style=\"max-width: 14rem; max-height: 14rem\"\n              alt=\"Image Not Found\"\n            />\n            <br />\n            <b-link :to=\"{ path: `/product/${orderItem.Product.id}` }\">\n              {{ orderItem.Product.title }}\n            </b-link>\n            <br />\n            <small class=\"mt-2\">\n              Price: {{ orderItem.Product.amount }}\n              {{ orderItem.Product.currency }}\n            </small>\n            <br />\n            <small class=\"mt-2\">Quantity: {{ orderItem.quantity }}</small>\n            <br />\n            <small class=\"mt-2\">\n              Cost: {{ orderItem.Product.amount * orderItem.quantity }}\n              {{ orderItem.Product.currency }}\n            </small>\n          </b-card>\n        </b-card-group>\n      </b-col>\n    </b-row>\n    <b-row>\n      <b-col>\n        <h5 class=\"font-weight-bold\">Update Status</h5>\n        <hr />\n        <b-row>\n          <b-col cols=\"5\">\n            <b-dropdown\n              id=\"dropdown-left\"\n              :text=\"orderStatus\"\n              block\n              :variant=\"statusVariant\"\n            >\n              <b-dropdown-item\n                v-for=\"(status, idx) in allStatus\"\n                :key=\"idx\"\n                @click=\"updateStatus(status)\"\n              >\n                {{ status.name }}\n              </b-dropdown-item>\n            </b-dropdown>\n          </b-col>\n        </b-row>\n        <b-row class=\"mt-4\">\n          <b-col>\n            <h5 class=\"font-weight-bold\">Delete Order</h5>\n            <hr />\n            <b-row>\n              <b-col cols=\"5\">\n                <b-button block disabled variant=\"danger\">\n                  Delete\n                </b-button>\n              </b-col>\n            </b-row>\n            <b-row class=\"mt-2\" v-if=\"orderStatus == 'complete'\">\n              <b-col>\n                <small>\n                  We don't allow anyone to delete any order information. If you\n                  delete this order from here this same order could be retrieve\n                  from stripe by using given checkout session id. We didn't find\n                  any way to delete order information from stripe yet. If we\n                  find a way to solve this issue we may update it. Until then\n                  please wait.\n                </small>\n              </b-col>\n            </b-row>\n          </b-col>\n        </b-row>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport OrderItemService from \"@/services/OrderItemService.js\";\nimport OrderService from \"@/services/OrderService.js\";\nexport default {\n  name: \"OrderItems\",\n  props: {\n    orderItems: {\n      type: Array,\n      required: true\n    },\n    orderInfo: {\n      type: Object,\n      required: true\n    }\n  },\n  components: {},\n  data() {\n    return {\n      orderStatus: this.orderInfo.status,\n      statusVariant: this.orderInfo.variant,\n      allStatus: [\n        {\n          name: \"paid\",\n          variant: \"dark\"\n        },\n        {\n          name: \"preparing\",\n          variant: \"info\"\n        },\n        {\n          name: \"on the way\",\n          variant: \"warning\"\n        },\n        {\n          name: \"complete\",\n          variant: \"success\"\n        }\n      ]\n    };\n  },\n  mounted() {},\n  methods: {\n    async updateStatus(status) {\n      this.orderStatus = status.name;\n      this.statusVariant = status.variant;\n      try {\n        await OrderService.updateOrder({\n          id: this.orderInfo.id,\n          status: status.name,\n          variant: status.variant\n        });\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    },\n    async deleteOrder() {\n      for (var i in this.orderItems) {\n        try {\n          await OrderItemService.deleteOrderItem(this.orderItems[i].id);\n        } catch (error) {\n          console.log(error.response.data.error);\n        }\n      }\n      try {\n        await OrderService.deleteOrder(this.orderInfo.id);\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n      this.$router.push({ path: \"/admin/orders\" });\n    }\n  },\n  computed: {}\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}