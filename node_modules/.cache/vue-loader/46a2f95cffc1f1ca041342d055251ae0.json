{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\User\\ReqPassToken.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\User\\ReqPassToken.vue","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053078023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBdXRoZW50aWNhdGlvblNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9BdXRoZW50aWNhdGlvblNlcnZpY2UuanMiOwppbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9Vc2VyU2VydmljZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVxUGFzc1Rva2VuIiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWxSZXNldFBhc3N3b3JkOiBudWxsLAogICAgICB0b2tlbkFsZXJ0OiBudWxsLAogICAgICBtYWlsU2VudDogZmFsc2UsCiAgICAgIHRva2VuQWxlcnRNZXNzYWdlOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIHJlcXVlc3RQYXNzd29yZFRva2VuKCkgewogICAgICB2YXIgdXNlcjsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLm1haWxTZW50ID0gZmFsc2U7CiAgICAgICAgdXNlciA9IChhd2FpdCBVc2VyU2VydmljZS5nZXRVc2VyQnlFbWFpbCh0aGlzLmVtYWlsUmVzZXRQYXNzd29yZCkpLmRhdGE7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy50b2tlbkFsZXJ0ID0gdHJ1ZTsKICAgICAgICB0aGlzLnRva2VuQWxlcnRNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgfQogICAgICBpZiAodXNlcikgewogICAgICAgIHRyeSB7CiAgICAgICAgICBhd2FpdCBBdXRoZW50aWNhdGlvblNlcnZpY2UucmVxdWVzdFBhc3N3b3JkVG9rZW4oewogICAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbFJlc2V0UGFzc3dvcmQKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy50b2tlbkFsZXJ0ID0gZmFsc2U7CiAgICAgICAgICB0aGlzLm1haWxTZW50ID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuZW1haWxSZXNldFBhc3N3b3JkID0gIiI7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIHRoaXMudG9rZW5BbGVydCA9IHRydWU7CiAgICAgICAgICB0aGlzLnRva2VuQWxlcnRNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["ReqPassToken.vue"],"names":[],"mappings":";AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReqPassToken.vue","sourceRoot":"src/components/User","sourcesContent":["<template>\n  <div>\n    <div class=\"p-2 mt-2\" style=\"background-color: #f4f6f8\">\n      <b-form @submit.stop.prevent=\"requestPasswordToken\">\n        <b-form-group\n          class=\"mb-2 font-weight-bold\"\n          label=\"Enter your email address\"\n          label-for=\"input-email-for-token\"\n        >\n          <b-form-input\n            v-model=\"emailResetPassword\"\n            ref=\"emailField2\"\n            id=\"input-email-for-token\"\n            @keyup=\"mailSent = false\"\n            type=\"email\"\n            required\n          />\n        </b-form-group>\n        <small>We will send you a link to reset your password.</small><br />\n        <b-alert variant=\"primary\" class=\"my-2 p-1 pl-2\" :show=\"tokenAlert\">\n          {{ tokenAlertMessage }}\n        </b-alert>\n        <b-button class=\"mt-2\" variant=\"outline-dark\" type=\"submit\">\n          Submit\n        </b-button>\n        <b-card class=\"mt-3\" v-if=\"mailSent\">\n          <div><strong>Request accepted</strong></div>\n          <hr class=\"my-1\" />\n          <div>\n            Check your email for a link to reset your password. If it doesnâ€™t\n            appear within a few minutes, check your spam folder.\n          </div>\n        </b-card>\n      </b-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AuthenticationService from \"@/services/AuthenticationService.js\";\nimport UserService from \"@/services/UserService.js\";\nexport default {\n  name: \"ReqPassToken\",\n  components: {},\n  data() {\n    return {\n      emailResetPassword: null,\n      tokenAlert: null,\n      mailSent: false,\n      tokenAlertMessage: null\n    };\n  },\n  computed: {},\n  methods: {\n    async requestPasswordToken() {\n      var user;\n      try {\n        this.mailSent = false;\n        user = (await UserService.getUserByEmail(this.emailResetPassword)).data;\n      } catch (error) {\n        this.tokenAlert = true;\n        this.tokenAlertMessage = error.response.data.error;\n      }\n      if (user) {\n        try {\n          await AuthenticationService.requestPasswordToken({\n            email: this.emailResetPassword\n          });\n          this.tokenAlert = false;\n          this.mailSent = true;\n          this.emailResetPassword = \"\";\n        } catch (error) {\n          this.tokenAlert = true;\n          this.tokenAlertMessage = error.response.data.error;\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}