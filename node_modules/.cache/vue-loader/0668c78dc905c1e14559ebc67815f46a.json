{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\src\\views\\User\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\src\\views\\User\\Register.vue","mtime":1667811021069},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053078023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBdXRoZW50aWNhdGlvblNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9BdXRoZW50aWNhdGlvblNlcnZpY2UuanMiOwppbXBvcnQgVG9wSGVhZGVyIGZyb20gIkAvY29tcG9uZW50cy9Db21tb24vVG9wSGVhZGVyLnZ1ZSI7CmltcG9ydCBGb290ZXIgZnJvbSAiQC9jb21wb25lbnRzL0NvbW1vbi9Gb290ZXIudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWdpc3RlciIsCiAgY29tcG9uZW50czogewogICAgVG9wSGVhZGVyLAogICAgRm9vdGVyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlyc3ROYW1lOiBudWxsLAogICAgICBsYXN0TmFtZTogbnVsbCwKICAgICAgZW1haWw6IG51bGwsCiAgICAgIGZvcm1hdE5hbWU6IC9eLnsxLDE1fSQvLAogICAgICBmb3JtYXRFbWFpbDogL15bYS16QS1aMC05Ll8lKy1dK0BbYS16QS1aMC05Li1dK1wuW2EtekEtWl17Miw0fSQvLAogICAgICBmb3JtYXRQYXNzd29yZDogL15bYS16QS16MC05XXs4LDMyfSQvLAogICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgdmFsaWRFbWFpbDogdHJ1ZSwKICAgICAgY29uZmlybVBhc3N3b3JkOiBudWxsLAogICAgICBlbWFpbE1lc3NhZ2U6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kcmVmcy5maXJzdE5hbWVGaWVsZC5mb2N1cygpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRva2VuQWxlcnQoKSB7CiAgICAgIGlmICh0aGlzLm1lc3NhZ2UgPT0gbnVsbCkgcmV0dXJuIG51bGw7CiAgICAgIGVsc2UgaWYgKHRoaXMubWVzc2FnZS5sZW5ndGggPT0gMCkgcmV0dXJuIGZhbHNlOwogICAgICBlbHNlIHJldHVybiB0cnVlOwogICAgfSwKICAgIGZpcnN0TmFtZVZhbGlkYXRpb24oKSB7CiAgICAgIGlmICh0aGlzLmZpcnN0TmFtZSA9PSBudWxsKSByZXR1cm4gbnVsbDsKICAgICAgZWxzZSBpZiAoIXRoaXMuZm9ybWF0TmFtZS50ZXN0KHRoaXMuZmlyc3ROYW1lKSkgcmV0dXJuIGZhbHNlOwogICAgICBlbHNlIHJldHVybiB0cnVlOwogICAgfSwKICAgIGxhc3ROYW1lVmFsaWRhdGlvbigpIHsKICAgICAgaWYgKHRoaXMubGFzdE5hbWUgPT0gbnVsbCkgcmV0dXJuIG51bGw7CiAgICAgIGVsc2UgaWYgKCF0aGlzLmZvcm1hdE5hbWUudGVzdCh0aGlzLmxhc3ROYW1lKSkgcmV0dXJuIGZhbHNlOwogICAgICBlbHNlIHJldHVybiB0cnVlOwogICAgfSwKICAgIGVtYWlsVmFsaWRhdGlvbigpIHsKICAgICAgaWYgKHRoaXMuZW1haWwgPT0gbnVsbCkgcmV0dXJuIG51bGw7CiAgICAgIGVsc2UgaWYgKCF0aGlzLmZvcm1hdEVtYWlsLnRlc3QodGhpcy5lbWFpbCkpIHJldHVybiBmYWxzZTsKICAgICAgZWxzZSByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBuZXdQYXNzd29yZFZhbGlkYXRpb24oKSB7CiAgICAgIGlmICh0aGlzLnBhc3N3b3JkID09IG51bGwpIHJldHVybiBudWxsOwogICAgICBlbHNlIGlmICghdGhpcy5mb3JtYXRQYXNzd29yZC50ZXN0KHRoaXMucGFzc3dvcmQpKSByZXR1cm4gZmFsc2U7CiAgICAgIGVsc2UgcmV0dXJuIHRydWU7CiAgICB9LAogICAgY29uZmlybVBhc3N3b3JkVmFsaWRhdGlvbigpIHsKICAgICAgaWYgKHRoaXMuY29uZmlybVBhc3N3b3JkID09IG51bGwpIHJldHVybiBudWxsOwogICAgICBlbHNlIGlmICgKICAgICAgICB0aGlzLmNvbmZpcm1QYXNzd29yZCAhPSB0aGlzLnBhc3N3b3JkIHx8CiAgICAgICAgIXRoaXMuZm9ybWF0UGFzc3dvcmQudGVzdCh0aGlzLmNvbmZpcm1QYXNzd29yZCkKICAgICAgKQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgZWxzZSByZXR1cm4gdHJ1ZTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGNyZWF0ZUFjY291bnQoKSB7CiAgICAgIGlmICgKICAgICAgICAhdGhpcy5maXJzdE5hbWVWYWxpZGF0aW9uIHx8CiAgICAgICAgIXRoaXMubGFzdE5hbWVWYWxpZGF0aW9uIHx8CiAgICAgICAgIXRoaXMuZW1haWxWYWxpZGF0aW9uIHx8CiAgICAgICAgIXRoaXMubmV3UGFzc3dvcmRWYWxpZGF0aW9uIHx8CiAgICAgICAgIXRoaXMuY29uZmlybVBhc3N3b3JkVmFsaWRhdGlvbgogICAgICApCiAgICAgICAgcmV0dXJuOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBBdXRoZW50aWNhdGlvblNlcnZpY2UucmVnaXN0ZXIoewogICAgICAgICAgZmlyc3ROYW1lOiB0aGlzLmZpcnN0TmFtZSwKICAgICAgICAgIGxhc3ROYW1lOiB0aGlzLmxhc3ROYW1lLAogICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJDdXJyZW50VXNlci9zZXROZXdVc2VySWQiLCB1c2VyLmRhdGEuaWQpOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJDdXJyZW50VXNlci9zZXROZXdVc2VyRW1haWwiLCB0aGlzLmVtYWlsKTsKCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL3VzZXItdmVyaWZ5IiB9KTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLnZhbGlkRW1haWwgPSBmYWxzZTsKICAgICAgICB0aGlzLmVtYWlsTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3I7CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views/User","sourcesContent":["<template>\n  <div>\n    <TopHeader />\n    <b-container class=\"mt-5\">\n      <b-row align-h=\"center\">\n        <b-col cols=\"7\">\n          <b-card style=\"color: #001e5f\">\n            <h4 class=\"font-weight-bold\">Créer votre compte</h4>\n            <b-form @submit.stop.prevent=\"createAccount\" class=\"mt-4\">\n              <b-row>\n                <b-col>\n                  <b-form-group\n                    id=\"input-group-first-name\"\n                    label=\"Prénom\"\n                    label-for=\"input-first-name\"\n                  >\n                    <b-form-input\n                      v-model=\"firstName\"\n                      ref=\"firstNameField\"\n                      id=\"input-first-name\"\n                      type=\"text\"\n                      :state=\"firstNameValidation\"\n                      required\n                    />\n                    <b-form-invalid-feedback\n                      v-if=\"firstName\"\n                      :state=\"firstNameValidation\"\n                    >\n                      Your first name could be 15 character long.\n                    </b-form-invalid-feedback>\n                  </b-form-group>\n                </b-col>\n                <b-col>\n                  <b-form-group\n                    id=\"input-group-last-name\"\n                    label=\"Nom\"\n                    label-for=\"input-last-name\"\n                  >\n                    <b-form-input\n                      v-model=\"lastName\"\n                      id=\"input-last-name\"\n                      type=\"text\"\n                      :state=\"lastNameValidation\"\n                      required\n                    />\n                    <b-form-invalid-feedback\n                      v-if=\"lastName\"\n                      :state=\"lastNameValidation\"\n                    >\n                      Your last name could be 15 character long.\n                    </b-form-invalid-feedback>\n                  </b-form-group>\n                </b-col>\n              </b-row>\n              <b-form-group\n                id=\"input-group-email\"\n                label=\"Email\"\n                label-for=\"input-email\"\n              >\n                <b-form-input\n                  v-model=\"email\"\n                  id=\"input-email\"\n                  type=\"email\"\n                  @keyup=\"validEmail = true\"\n                  :state=\"validEmail && emailValidation\"\n                  required\n                />\n                <b-form-invalid-feedback\n                  v-if=\"email\"\n                  :state=\"validEmail && emailValidation\"\n                >\n                  {{ emailMessage }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n\n              <b-row>\n                <b-col>\n                  <b-form-group\n                    id=\"input-group-password\"\n                    label=\"Mot de passe\"\n                    label-for=\"input-password\"\n                  >\n                    <b-form-input\n                      v-model=\"password\"\n                      id=\"input-password\"\n                      type=\"password\"\n                      :state=\"newPasswordValidation\"\n                      required\n                    />\n                    <b-form-invalid-feedback\n                      v-if=\"password\"\n                      :state=\"newPasswordValidation\"\n                    >\n                      Your password could be 8-32 character long, contain\n                      letters, numbers and must not contain space.\n                    </b-form-invalid-feedback>\n                  </b-form-group>\n                </b-col>\n                <b-col>\n                  <b-form-group\n                    id=\"input-group-confirm-password\"\n                    label=\"Confirmer\"\n                    label-for=\"input-confirm-password\"\n                  >\n                    <b-form-input\n                      v-model=\"confirmPassword\"\n                      id=\"input-confirm-password\"\n                      type=\"password\"\n                      :state=\"confirmPasswordValidation\"\n                      required\n                    />\n                    <b-form-invalid-feedback\n                      v-if=\"confirmPassword\"\n                      :state=\"confirmPasswordValidation\"\n                    >\n                      Password didn't match\n                    </b-form-invalid-feedback>\n                  </b-form-group>\n                </b-col>\n              </b-row>\n\n              <b-row class=\"mt-3\">\n                <b-col cols=\"3\" />\n                <b-col cols=\"6\">\n                  <b-button block type=\"submit\" class=\"p-2\" variant=\"warning\">\n                    Créer\n                  </b-button>\n                </b-col>\n                <b-col cols=\"3\" />\n              </b-row>\n            </b-form>\n            <hr />\n            <b-row>\n              <b-col class=\"text-center\">\n                <a>Vous avez déja un compte ?</a><a href=\"/login\">&nbsp;Se connecter</a>\n              </b-col>\n            </b-row>\n          </b-card>\n        </b-col>\n      </b-row>\n    </b-container>\n    <Footer class=\"mt-5\" />\n  </div>\n</template>\n\n<script>\nimport AuthenticationService from \"@/services/AuthenticationService.js\";\nimport TopHeader from \"@/components/Common/TopHeader.vue\";\nimport Footer from \"@/components/Common/Footer.vue\";\nexport default {\n  name: \"Register\",\n  components: {\n    TopHeader,\n    Footer\n  },\n  data() {\n    return {\n      firstName: null,\n      lastName: null,\n      email: null,\n      formatName: /^.{1,15}$/,\n      formatEmail: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/,\n      formatPassword: /^[a-zA-z0-9]{8,32}$/,\n      password: null,\n      validEmail: true,\n      confirmPassword: null,\n      emailMessage: null\n    };\n  },\n  mounted() {\n    this.$refs.firstNameField.focus();\n  },\n  computed: {\n    tokenAlert() {\n      if (this.message == null) return null;\n      else if (this.message.length == 0) return false;\n      else return true;\n    },\n    firstNameValidation() {\n      if (this.firstName == null) return null;\n      else if (!this.formatName.test(this.firstName)) return false;\n      else return true;\n    },\n    lastNameValidation() {\n      if (this.lastName == null) return null;\n      else if (!this.formatName.test(this.lastName)) return false;\n      else return true;\n    },\n    emailValidation() {\n      if (this.email == null) return null;\n      else if (!this.formatEmail.test(this.email)) return false;\n      else return true;\n    },\n    newPasswordValidation() {\n      if (this.password == null) return null;\n      else if (!this.formatPassword.test(this.password)) return false;\n      else return true;\n    },\n    confirmPasswordValidation() {\n      if (this.confirmPassword == null) return null;\n      else if (\n        this.confirmPassword != this.password ||\n        !this.formatPassword.test(this.confirmPassword)\n      )\n        return false;\n      else return true;\n    }\n  },\n  methods: {\n    async createAccount() {\n      if (\n        !this.firstNameValidation ||\n        !this.lastNameValidation ||\n        !this.emailValidation ||\n        !this.newPasswordValidation ||\n        !this.confirmPasswordValidation\n      )\n        return;\n      try {\n        const user = await AuthenticationService.register({\n          firstName: this.firstName,\n          lastName: this.lastName,\n          email: this.email,\n          password: this.password\n        });\n        this.$store.dispatch(\"CurrentUser/setNewUserId\", user.data.id);\n        this.$store.dispatch(\"CurrentUser/setNewUserEmail\", this.email);\n\n        this.$router.push({ path: \"/user-verify\" });\n      } catch (error) {\n        this.validEmail = false;\n        this.emailMessage = error.response.data.error;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\"></style>\n"]}]}