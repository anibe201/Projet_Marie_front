{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\Products\\ProductList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\Products\\ProductList.vue","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1664810875252}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBZGRUb0NhcnQgZnJvbSAiQC9jb21wb25lbnRzL01haW50YWluUHJvZHVjdC9BZGRUb0NhcnQudnVlIjsKaW1wb3J0IEFkZFRvV2lzaGxpc3QgZnJvbSAiQC9jb21wb25lbnRzL01haW50YWluUHJvZHVjdC9BZGRUb1dpc2hsaXN0LnZ1ZSI7CmltcG9ydCBQcm9kdWN0c1NlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9Qcm9kdWN0c1NlcnZpY2UuanMiOwppbXBvcnQgV2lzaGxpc3RTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvV2lzaGxpc3RTZXJ2aWNlLmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQcm9kdWN0TGlzdCIsCiAgcHJvcHM6IHt9LAogIGNvbXBvbmVudHM6IHsKICAgIEFkZFRvV2lzaGxpc3QsCiAgICBBZGRUb0NhcnQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhZG1pbjogZmFsc2UsCiAgICAgIHdpc2hsaXN0S2V5OiA0LAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgY2FydENvbXBvbmVudEtleTogMgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSh7CiAgICAgIGRpc3BsYXlQcm9kdWN0czogc3RhdGUgPT4gc3RhdGUuUHJvZHVjdHMuZGlzcGxheVByb2R1Y3RzLAogICAgICBhcENvdW50OiBzdGF0ZSA9PiBzdGF0ZS5Qcm9kdWN0cy5hcENvdW50LAogICAgICBwZXJQYWdlOiBzdGF0ZSA9PiBzdGF0ZS5Qcm9kdWN0cy5wZXJQYWdlCiAgICB9KQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuYWRtaW4gPSB0aGlzLiRzdG9yZS5zdGF0ZS5DdXJyZW50VXNlci5hZG1pbjsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZnJlc2hDYXJ0QnRuKCkgewogICAgICB0aGlzLmNhcnRDb21wb25lbnRLZXkgKz0gMTsKICAgICAgdGhpcy53aXNobGlzdEtleSArPSAxOwogICAgfSwKICAgIGFzeW5jIGRlbGV0ZVByb2R1Y3QocHJvZHVjdCkgewogICAgICBhd2FpdCBXaXNobGlzdFNlcnZpY2UuZGVsZXRlV2lzaEl0ZW1CeVByb2R1Y3QocHJvZHVjdC5pZCk7CiAgICAgIGF3YWl0IFByb2R1Y3RzU2VydmljZS5kZWxldGVQcm9kdWN0KHByb2R1Y3QuaWQpOwogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiUHJvZHVjdHMvc2V0QWxsQmFja3VwUHJvZHVjdHMiKTsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIldpc2hsaXN0L3NldFdpc2hsaXN0Iik7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0sCiAgICBhc3luYyBwYWdpbmF0ZShjdXJyZW50UGFnZSkgewogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiUHJvZHVjdHMvcGFnaW5hdGUiLCBjdXJyZW50UGFnZSk7CiAgICAgIHRoaXMucmVmcmVzaENhcnRCdG4oKTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["ProductList.vue"],"names":[],"mappings":";AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProductList.vue","sourceRoot":"src/components/Products","sourcesContent":["<template>\n  <div>\n    <b-row>\n      <b-col cols=\"4\" v-for=\"product in displayProducts\" :key=\"product.id\">\n        <b-card-group deck>\n          <b-card img-top style=\"max-width: 25rem\" class=\"mb-4\">\n            <b-card-img\n              @click=\"$router.push({ path: `/product/${product.id}` })\"\n              :src=\"product.image1\"\n              style=\"max-width: 25rem; max-height: 25rem\"\n              alt=\"Image Not Found\"\n            />\n            <div class=\"mt-2\">\n              <b-link :to=\"`/product/${product.id}`\">\n                {{ product.title }}\n              </b-link>\n            </div>\n            <h6 class=\"mt-1\">\n              Price: {{ product.amount }} {{ product.currency }}\n            </h6>\n            <b-row class=\"mt-2\" align-v=\"center\">\n              <b-col cols=\"12\">\n                <b-form-rating\n                  :precision=\"\n                    Math.round(product.rating) == product.rating ? 0 : 1\n                  \"\n                  size=\"sm\"\n                  show-value\n                  show-value-max\n                  readonly\n                  :value=\"product.rating\"\n                  variant=\"primary\"\n                />\n              </b-col>\n            </b-row>\n            <div class=\"d-flex justify-content-between\">\n              <AddToCart\n                class=\"mt-2\"\n                addButtonTitle=\"Add To Cart\"\n                addedButtonTitle=\"In Cart\"\n                :key=\"cartComponentKey\"\n                buttonType=\"sm\"\n                :productId=\"product.id\"\n                :rating=\"product.rating\"\n                :currency=\"product.currency\"\n                :image=\"product.image1\"\n                :title=\"product.title\"\n                :amount=\"product.amount\"\n              />\n              <AddToWishlist\n                class=\"mt-2\"\n                addButtonTitle=\"Save\"\n                addedButtonTitle=\"Saved\"\n                :key=\"wishlistKey\"\n                buttonType=\"sm\"\n                :productId=\"product.id\"\n              />\n            </div>\n            <b-button\n              v-if=\"admin\"\n              class=\"mt-2\"\n              @click=\"deleteProduct(product)\"\n              size=\"sm\"\n              variant=\"danger\"\n            >\n              <b-icon icon=\"trash\" />\n              Delete\n            </b-button>\n          </b-card>\n        </b-card-group>\n      </b-col>\n    </b-row>\n    <b-row class=\"mt-3 mb-5\" v-if=\"this.apCount == 0\">\n      <b-col>\n        <h2>...</h2>\n      </b-col>\n    </b-row>\n    <b-row v-if=\"this.apCount != 0\" class=\"mt-3\" align-v=\"center\">\n      <b-col>\n        <b-pagination\n          size=\"\"\n          v-model=\"currentPage\"\n          :total-rows=\"apCount\"\n          :per-page=\"perPage\"\n          @input=\"paginate(currentPage)\"\n        ></b-pagination>\n      </b-col>\n      <b-col />\n      <b-col>\n        <h6>\n          SHOWING {{ (currentPage - 1) * perPage + 1 }} TO\n          {{\n            currentPage * perPage > apCount ? apCount : currentPage * perPage\n          }}\n          OF {{ apCount }} ({{ Math.ceil(apCount / perPage) }}\n          PAGES)\n        </h6>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport AddToCart from \"@/components/MaintainProduct/AddToCart.vue\";\nimport AddToWishlist from \"@/components/MaintainProduct/AddToWishlist.vue\";\nimport ProductsService from \"@/services/ProductsService.js\";\nimport WishlistService from \"@/services/WishlistService.js\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"ProductList\",\n  props: {},\n  components: {\n    AddToWishlist,\n    AddToCart\n  },\n  data() {\n    return {\n      admin: false,\n      wishlistKey: 4,\n      currentPage: 1,\n      cartComponentKey: 2\n    };\n  },\n  computed: {\n    ...mapState({\n      displayProducts: state => state.Products.displayProducts,\n      apCount: state => state.Products.apCount,\n      perPage: state => state.Products.perPage\n    })\n  },\n  mounted() {\n    this.admin = this.$store.state.CurrentUser.admin;\n  },\n  methods: {\n    refreshCartBtn() {\n      this.cartComponentKey += 1;\n      this.wishlistKey += 1;\n    },\n    async deleteProduct(product) {\n      await WishlistService.deleteWishItemByProduct(product.id);\n      await ProductsService.deleteProduct(product.id);\n      await this.$store.dispatch(\"Products/setAllBackupProducts\");\n      await this.$store.dispatch(\"Wishlist/setWishlist\");\n      window.location.reload();\n    },\n    async paginate(currentPage) {\n      await this.$store.dispatch(\"Products/paginate\", currentPage);\n      this.refreshCartBtn();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}