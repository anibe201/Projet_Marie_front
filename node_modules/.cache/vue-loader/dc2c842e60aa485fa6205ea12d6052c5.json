{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\src\\components\\Products\\CategorySidebar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\src\\components\\Products\\CategorySidebar.vue","mtime":1667852440113},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053078023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCBDYXRlZ29yeVNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9DYXRlZ29yeVNlcnZpY2UuanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDYXRlZ29yeVNpZGViYXIiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdDYXRlZ29yeTogIiIsCiAgICAgIGNhdGVnb3J5TGlzdDogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICBhZG1pbjogc3RhdGUgPT4gc3RhdGUuQ3VycmVudFVzZXIuYWRtaW4KICAgIH0pCiAgfSwKCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIHRoaXMuY2F0ZWdvcnlMaXN0ID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIkNhdGVnb3J5L2dldENhdGVnb3J5TGlzdCIpOwogICAgdGhpcy5jYXRlZ29yeUxpc3QgPSB0aGlzLmNhdGVnb3J5TGlzdC5tYXAob2JqID0+ICh7CiAgICAgIC4uLm9iaiwKICAgICAgbW9kZTogMAogICAgfSkpOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgY3JlYXRlTmV3Q2F0ZWcoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgQ2F0ZWdvcnlTZXJ2aWNlLmNyZWF0ZUNhdGVnb3J5KHsgbmFtZTogdGhpcy5uZXdDYXRlZ29yeSB9KTsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ2F0ZWdvcnkvc2V0Q2F0ZWdvcnlMaXN0Iik7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgdXBkYXRlQ2F0ZWdvcnkoY2F0ZWdvcnkpIHsKICAgICAgdHJ5IHsKICAgICAgICBkZWxldGUgY2F0ZWdvcnkubW9kZTsKICAgICAgICBhd2FpdCBDYXRlZ29yeVNlcnZpY2UudXBkYXRlQ2F0ZWdvcnkoY2F0ZWdvcnkpOwogICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJDYXRlZ29yeS9zZXRDYXRlZ29yeUxpc3QiKTsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBkZWxldGVDYXRlZ29yeShjYXRlZ29yeSkgewogICAgICB0cnkgewogICAgICAgIGF3YWl0IENhdGVnb3J5U2VydmljZS5kZWxldGVDYXRlZ29yeShjYXRlZ29yeS5pZCk7CiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIkNhdGVnb3J5L3NldENhdGVnb3J5TGlzdCIpOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["CategorySidebar.vue"],"names":[],"mappings":";AAwGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CategorySidebar.vue","sourceRoot":"src/components/Products","sourcesContent":["<template>\n  <div>\n    <ul style=\"list-style: none\">\n      <li v-for=\"category in categoryList\" :key=\"category.id\" class=\"mb-1\">\n        <b-row v-if=\"category.mode == 0\">\n          <div :class=\"{ 'col-12': !admin, 'col-8': admin }\">\n            <b-link variant=\"white\" :to=\"`/products/${category.name}`\">\n              <small>{{ category.name }}</small>\n              <b-icon\n                variant=\"primary\"\n                icon=\"triangle-fill\"\n                scale=\"0.5\"\n                rotate=\"90\"\n                shift-v=\"-2\"\n              />\n            </b-link>\n          </div>\n\n          <b-col cols=\"4\" v-if=\"admin\">\n            <b-button-toolbar>\n              <b-button-group size=\"sm\">\n                <b-button @click=\"category.mode ^= 1\" variant=\"white\">\n                  <b-icon\n                    variant=\"primary\"\n                    v-b-tooltip.hover\n                    title=\"Edit\"\n                    icon=\"pen\"\n                  />\n                </b-button>\n\n                <b-button @click=\"deleteCategory(category)\" variant=\"white\">\n                  <b-icon\n                    variant=\"danger\"\n                    v-b-tooltip.hover\n                    title=\"Delete\"\n                    icon=\"trash\"\n                  />\n                </b-button>\n              </b-button-group>\n            </b-button-toolbar>\n          </b-col>\n        </b-row>\n        <b-form\n          v-if=\"category.mode == 1\"\n          @submit.stop.prevent=\"updateCategory(category)\"\n        >\n          <b-row>\n            <b-col cols=\"8\">\n              <b-form-group>\n                <b-form-input\n                  size=\"sm\"\n                  required\n                  v-model=\"category.name\"\n                  placeholder=\"Categorie\"\n                />\n              </b-form-group>\n            </b-col>\n            <b-col cols=\"4\">\n              <b-button-toolbar>\n                <b-button-group size=\"sm\">\n                  <b-button type=\"submit\" variant=\"white\">\n                    <b-icon\n                      variant=\"primary\"\n                      v-b-tooltip.hover\n                      title=\"Save\"\n                      icon=\"check2\"\n                    />\n                  </b-button>\n                  <b-button @click=\"category.mode ^= 1\" variant=\"white\">\n                    <b-icon\n                      variant=\"danger\"\n                      v-b-tooltip.hover\n                      title=\"Cancel\"\n                      icon=\"x\"\n                    />\n                  </b-button>\n                </b-button-group>\n              </b-button-toolbar>\n            </b-col>\n          </b-row>\n        </b-form>\n      </li>\n      <div v-if=\"admin\">\n        <b-card>\n          <b-form @submit.stop.prevent=\"createNewCateg\">\n            <b-form-group>\n              <b-form-input\n                size=\"sm\"\n                required\n                v-model=\"newCategory\"\n                placeholder=\"Categorie\"\n              />\n            </b-form-group>\n            <b-button size=\"sm\" type=\"submit\" variant=\"warning\">\n              Cr√©er\n            </b-button>\n          </b-form>\n        </b-card>\n      </div>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport CategoryService from \"@/services/CategoryService.js\";\n\nexport default {\n  name: \"CategorySidebar\",\n  data() {\n    return {\n      newCategory: \"\",\n      categoryList: []\n    };\n  },\n  computed: {\n    ...mapState({\n      admin: state => state.CurrentUser.admin\n    })\n  },\n\n  async mounted() {\n    this.categoryList = await this.$store.dispatch(\"Category/getCategoryList\");\n    this.categoryList = this.categoryList.map(obj => ({\n      ...obj,\n      mode: 0\n    }));\n  },\n  methods: {\n    async createNewCateg() {\n      try {\n        await CategoryService.createCategory({ name: this.newCategory });\n        await this.$store.dispatch(\"Category/setCategoryList\");\n        window.location.reload();\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    },\n    async updateCategory(category) {\n      try {\n        delete category.mode;\n        await CategoryService.updateCategory(category);\n        await this.$store.dispatch(\"Category/setCategoryList\");\n        window.location.reload();\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    },\n    async deleteCategory(category) {\n      try {\n        await CategoryService.deleteCategory(category.id);\n        await this.$store.dispatch(\"Category/setCategoryList\");\n        window.location.reload();\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\"></style>\n"]}]}