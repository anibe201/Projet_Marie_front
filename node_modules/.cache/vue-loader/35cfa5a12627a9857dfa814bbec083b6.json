{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\Common\\TopHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\Common\\TopHeader.vue","mtime":1667831542336},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053078023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBTaWRlQmFyIGZyb20gIi4uL0NvbW1vbi9zaWRiYXJNZW51LnZ1ZSI7CgovKiBlc2xpbnQtZGlzYWJsZSAqLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRvcEhlYWRlciIsCiAgY29tcG9uZW50czogewogICAgU2lkZUJhcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbG9yczogWwogICAgICAgICAgewogICAgICAgICAgICBjb2xvcjogJ2RhbmdlcicsCiAgICAgICAgICAgIHZhbHVlOiAnMScKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBhY3RpdmU6ICdob21lJywKICAgICAgYWN0aXZlU2lkZWJhcjogZmFsc2UsCiAgICAgIHVzZXI6IHt9LAogICAgICBhZG1pbjogZmFsc2UsCiAgICAgIGNvbXBhbnlMb2dvOiAiIiwKICAgICAgdXNlckxvZ2dlZEluOiBmYWxzZSwKICAgICAgY2F0ZWdvcnlMaXN0OiBbXSwKICAgICAgc2VhcmNoVHh0OiAiIiwKICAgICAgc2VhcmNoQ2F0ZWdvcnlJZDogMCwKICAgICAgc2VhcmNoQ2F0ZWdvcnlOYW1lOiAiQWxsIENhdGVnb3J5IgogICAgfTsKICB9LAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNvbXBhbnlMb2dvID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIkNvbXBhbnkvZ2V0Q29tcGFueUxvZ28iKTsKICAgIHRoaXMudXNlciA9IHRoaXMuJHN0b3JlLnN0YXRlLkN1cnJlbnRVc2VyLnVzZXI7CiAgICB0aGlzLmFkbWluID0gdGhpcy4kc3RvcmUuc3RhdGUuQ3VycmVudFVzZXIuYWRtaW47CiAgICB0aGlzLnVzZXJMb2dnZWRJbiA9IHRoaXMuJHN0b3JlLnN0YXRlLkN1cnJlbnRVc2VyLnVzZXJMb2dnZWRJbjsKICAgIHRoaXMuY2F0ZWdvcnlMaXN0ID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIkNhdGVnb3J5L2dldENhdGVnb3J5TGlzdCIpOwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1ldGhvZHM6IHsKICAgIHdpc2hsaXN0KCkgewogICAgICBpZiAoIXRoaXMudXNlckxvZ2dlZEluKSB7CiAgICAgICAgdGhpcy4kYnZUb2FzdC50b2FzdCgiUGxlYXNlIGxvZ2luIGZvciB0aGUgd2lzaGxpc3QiLCB7CiAgICAgICAgICB0aXRsZTogIldpc2hsaXN0IiwKICAgICAgICAgIHZhcmlhbnQ6ICJwcmltYXJ5IiwKICAgICAgICAgIHRvYXN0ZXI6ICJiLXRvYXN0ZXItdG9wLWNlbnRlciIsCiAgICAgICAgICBub0Nsb3NlQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHNvbGlkOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL3dpc2hsaXN0IiB9KTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGxvZ291dCgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIkN1cnJlbnRVc2VyL3NldFRva2VuIiwgIiIpOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ3VycmVudFVzZXIvc2V0VXNlciIsIHt9KTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIldpc2hsaXN0L2NsZWFyV2lzaGxpc3QiKTsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSwKICAgIHNldF9jYXRlZ29yeShjYXRlZ29yeSkgewogICAgICB0aGlzLnNlYXJjaENhdGVnb3J5SWQgPSBjYXRlZ29yeS5pZDsKICAgICAgdGhpcy5zZWFyY2hDYXRlZ29yeU5hbWUgPSBjYXRlZ29yeS5uYW1lOwogICAgfSwKICAgIHNlYXJjaCgpIHsKICAgICAgdmFyIG5ld1JvdXRlID0gIi9wcm9kdWN0cyI7CiAgICAgIGlmICh0aGlzLnNlYXJjaENhdGVnb3J5SWQgIT0gMCkgewogICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy5zZWFyY2hDYXRlZ29yeU5hbWU7CiAgICAgICAgbmV3Um91dGUgKz0gIi8iICsgY2F0ZWdvcnk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuc2VhcmNoVHh0ICE9ICIiKSB7CiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuc2VhcmNoVHh0OwogICAgICAgIG5ld1JvdXRlICs9ICI/cT0iICsgdGV4dDsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IG5ld1JvdXRlIH0pOwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["TopHeader.vue"],"names":[],"mappings":";AAmGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TopHeader.vue","sourceRoot":"src/components/Common","sourcesContent":["<template>\n  <div>\n    <div>\n      <b-navbar toggleable=\"lg\" type=\"dark\" style=\"background-color: #00283a\">\n        <b-navbar-brand href=\"/\">            \n          <b-img :src=\"companyLogo\" width=\"80\"/>\n        </b-navbar-brand>\n        \n        <b-navbar-toggle target=\"nav-collapse\"></b-navbar-toggle>\n  \n        <b-collapse id=\"nav-collapse\" is-nav>\n          <b-navbar-nav>\n            <b-nav-item >Accueil</b-nav-item>\n            <b-nav-item >Toutes Les Annonces</b-nav-item>\n            <b-nav-item >Aide</b-nav-item>\n          </b-navbar-nav>\n    \n          <!-- Right aligned nav items -->\n          <b-navbar-nav class=\"ml-auto\">\n            <b-nav-form>\n              <b-dropdown id=\"dropdown-left\" :text=\"searchCategoryName\" size=\"sm\" variant=\"primary\" class=\"m-2\">\n                <b-dropdown-item @click=\"set_category({ id: 0, name: 'All Category' })\" >Tout</b-dropdown-item>\n                <b-dropdown-item \n                  @click=\"set_category(category)\"\n                  v-for=\"category in categoryList\"\n                  :key=\"category.id\"\n              >\n                {{ category.name }}\n                </b-dropdown-item>\n                <b-dropdown-item href=\"#\">Autres</b-dropdown-item>\n              </b-dropdown>\n              <b-nav-form class=\"mr-auto\" v-on:submit.prevent=\"search\">\n                <b-form-input size=\"sm\" class=\"mr-sm-2\" placeholder=\"\" v-model=\"searchTxt\"></b-form-input>\n              </b-nav-form>\n            </b-nav-form>\n          </b-navbar-nav>\n          <b-navbar-nav class=\"ml-auto\">\n            <b-nav-item class=\"mr-auto\" @click=\"wishlist\">\n              <div>\n                <b-icon scale=\"0.8\" icon=\"suit-heart\" />\n                Favoris\n              </div>\n            </b-nav-item>\n            <b-nav-item class=\"mr-auto\" to=\"/cart-view\">\n              <div>\n                <b-icon icon=\"cart2\" />\n                Panier\n              </div>\n            </b-nav-item>\n            <b-nav-item class=\"mr-auto\" v-if=\"userLoggedIn\">\n              <b-img height=\"25px\" width=\"25px\" :src=\"user.profileImage\" />\n            </b-nav-item>\n            <b-nav-item-dropdown class=\"mr-auto\" right v-if=\"userLoggedIn\">\n              <template #button-content>\n                <span v-if=\"user.username\" style=\"color: #fff\">\n                  {{ user.username }}\n                </span>\n                <span v-if=\"!user.username\" style=\"color: #fff\">\n                  {{ user.firstName }} {{ user.lastName }}\n                </span>\n              </template>\n              <b-dropdown-item v-if=\"admin\" to=\"/admin\">\n                Profil Admin\n              </b-dropdown-item>\n              <b-dropdown-item v-if=\"admin\" to=\"/admin\">\n                Tableau de bord\n              </b-dropdown-item>\n              <b-dropdown-item to=\"/profile\">Profile</b-dropdown-item>\n              <b-dropdown-item @click=\"logout()\">DÃ©connexion</b-dropdown-item>\n            </b-nav-item-dropdown>\n            <vs-button\n            dark\n            shadow\n            to=\"/register\"\n            v-if=\"!userLoggedIn\"\n            :active=\"active == 4\"\n            @click=\"active = 4\"\n            >Inscription\n          </vs-button>\n            <vs-button\n            v-if=\"!userLoggedIn\"\n            to=\"/login\"\n            dark\n            shadow\n            :active=\"active == 4\"\n            @click=\"active = 4\"\n          >\n            Connexion\n          </vs-button>\n          </b-navbar-nav>\n        </b-collapse>\n      </b-navbar>\n    </div>\n    <!-- <SideBar /> -->\n    <hr class=\"m-0\" style=\"background-color: #000\" />\n  </div>\n</template>\n\n<script>\nimport SideBar from \"../Common/sidbarMenu.vue\";\n\n/* eslint-disable */\nexport default {\n  name: \"TopHeader\",\n  components: {\n    SideBar\n  },\n  data() {\n    return {\n      colors: [\n          {\n            color: 'danger',\n            value: '1'\n          },\n        ],\n        active: 'home',\n      activeSidebar: false,\n      user: {},\n      admin: false,\n      companyLogo: \"\",\n      userLoggedIn: false,\n      categoryList: [],\n      searchTxt: \"\",\n      searchCategoryId: 0,\n      searchCategoryName: \"All Category\"\n    };\n  },\n  async mounted() {\n    this.companyLogo = await this.$store.dispatch(\"Company/getCompanyLogo\");\n    this.user = this.$store.state.CurrentUser.user;\n    this.admin = this.$store.state.CurrentUser.admin;\n    this.userLoggedIn = this.$store.state.CurrentUser.userLoggedIn;\n    this.categoryList = await this.$store.dispatch(\"Category/getCategoryList\");\n  },\n  computed: {},\n  methods: {\n    wishlist() {\n      if (!this.userLoggedIn) {\n        this.$bvToast.toast(\"Please login for the wishlist\", {\n          title: \"Wishlist\",\n          variant: \"primary\",\n          toaster: \"b-toaster-top-center\",\n          noCloseButton: false,\n          solid: true\n        });\n      } else {\n        this.$router.push({ path: \"/wishlist\" });\n      }\n    },\n    async logout() {\n      this.$store.dispatch(\"CurrentUser/setToken\", \"\");\n      this.$store.dispatch(\"CurrentUser/setUser\", {});\n      this.$store.dispatch(\"Wishlist/clearWishlist\");\n      window.location.reload();\n    },\n    set_category(category) {\n      this.searchCategoryId = category.id;\n      this.searchCategoryName = category.name;\n    },\n    search() {\n      var newRoute = \"/products\";\n      if (this.searchCategoryId != 0) {\n        const category = this.searchCategoryName;\n        newRoute += \"/\" + category;\n      }\n      if (this.searchTxt != \"\") {\n        const text = this.searchTxt;\n        newRoute += \"?q=\" + text;\n        this.$router.push({ path: newRoute });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\"></style>\n"]}]}