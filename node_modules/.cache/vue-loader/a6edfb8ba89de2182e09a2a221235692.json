{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\src\\components\\User\\Profile\\UPublicProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\src\\components\\User\\Profile\\UPublicProfile.vue","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053078023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBBdXRoZW50aWNhdGlvblNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9BdXRoZW50aWNhdGlvblNlcnZpY2UuanMiOwppbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9Vc2VyU2VydmljZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVVB1YmxpY1Byb2ZpbGUiLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB7fSwKICAgICAgdXNlcklkOiAwLAogICAgICBlZGl0TmFtZTogMCwKICAgICAgbGFzdE5hbWU6ICIiLAogICAgICB1c2VyTmFtZTogIiIsCiAgICAgIGZpcnN0TmFtZTogIiIsCiAgICAgIGVkaXRVc2VyTmFtZTogMCwKICAgICAgZm9ybWF0VXNlck5hbWU6IC9eW2EtekEtWjAtOV17NiwyMH0kLywKICAgICAgZm9ybWF0UGFzc3dvcmQ6IC9eW2EtekEtejAtOV17OCwzMn0kLywKICAgICAgdXNlck5hbWVNZXNzYWdlOiAiIiwKICAgICAgdXNlck5hbWVWYWxpZGF0aW9uOiBudWxsLAogICAgICB2YWxpZEN1cnJlbnRQYXNzd29yZDogdHJ1ZSwKICAgICAgY3VycmVudFBhc3N3b3JkTWVzc2FnZTogIiIsCiAgICAgIG5ld1Bhc3N3b3JkTWVzc2FnZTogIiIsCiAgICAgIGNvbmZpcm1QYXNzd29yZE1lc3NhZ2U6ICIiLAogICAgICBjdXJyZW50UGFzc3dvcmQ6IG51bGwsCiAgICAgIG5ld1Bhc3N3b3JkOiBudWxsLAogICAgICBjb25maXJtUGFzc3dvcmQ6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY3VycmVudFBhc3N3b3JkVmFsaWRhdGlvbigpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudFBhc3N3b3JkID09ICIiKSByZXR1cm4gZmFsc2U7CiAgICAgIGVsc2UgcmV0dXJuIG51bGw7CiAgICB9LAogICAgbmV3UGFzc3dvcmRWYWxpZGF0aW9uKCkgewogICAgICBpZiAodGhpcy5uZXdQYXNzd29yZCA9PSBudWxsKSByZXR1cm4gbnVsbDsKICAgICAgZWxzZSBpZiAoIXRoaXMuZm9ybWF0UGFzc3dvcmQudGVzdCh0aGlzLm5ld1Bhc3N3b3JkKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHJldHVybiB0cnVlOwogICAgfSwKICAgIGNvbmZpcm1QYXNzd29yZFZhbGlkYXRpb24oKSB7CiAgICAgIGlmICh0aGlzLmNvbmZpcm1QYXNzd29yZCA9PSBudWxsKSByZXR1cm4gbnVsbDsKICAgICAgZWxzZSBpZiAoCiAgICAgICAgdGhpcy5uZXdQYXNzd29yZCAhPSB0aGlzLmNvbmZpcm1QYXNzd29yZCB8fAogICAgICAgICF0aGlzLmZvcm1hdFBhc3N3b3JkLnRlc3QodGhpcy5jb25maXJtUGFzc3dvcmQpCiAgICAgICkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHJldHVybiB0cnVlOwogICAgfQogIH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIHRoaXMudXNlcklkID0gdGhpcy4kc3RvcmUuc3RhdGUuQ3VycmVudFVzZXIudXNlcklkOwogICAgdHJ5IHsKICAgICAgdGhpcy51c2VyID0gKGF3YWl0IFVzZXJTZXJ2aWNlLmdldFVzZXJCeUlkKHRoaXMudXNlcklkKSkuZGF0YTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlTmFtZSgpIHsKICAgICAgdGhpcy5maXJzdE5hbWUgPSB0aGlzLnVzZXIuZmlyc3ROYW1lOwogICAgICB0aGlzLmxhc3ROYW1lID0gdGhpcy51c2VyLmxhc3ROYW1lOwogICAgICB0aGlzLmVkaXROYW1lIF49IDE7CiAgICB9LAogICAgYXN5bmMgdXBkYXRlTmFtZSgpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBVc2VyU2VydmljZS51cGRhdGVVc2VyKHsKICAgICAgICAgIGlkOiB0aGlzLnVzZXIuaWQsCiAgICAgICAgICBmaXJzdE5hbWU6IHRoaXMuZmlyc3ROYW1lLAogICAgICAgICAgbGFzdE5hbWU6IHRoaXMubGFzdE5hbWUKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ3VycmVudFVzZXIvc2V0TmFtZSIsIHsKICAgICAgICAgIGZpcnN0TmFtZTogdGhpcy5maXJzdE5hbWUsCiAgICAgICAgICBsYXN0TmFtZTogdGhpcy5sYXN0TmFtZQogICAgICAgIH0pOwogICAgICAgIHRoaXMuZWRpdE5hbWUgXj0gMTsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VVc2VyTmFtZSgpIHsKICAgICAgdGhpcy51c2VyTmFtZSA9IHRoaXMudXNlci51c2VybmFtZTsKICAgICAgdGhpcy5lZGl0VXNlck5hbWUgXj0gMTsKICAgIH0sCiAgICBhc3luYyBjaGVja1VzZXJOYW1lKCkgewogICAgICBpZiAodGhpcy51c2VyTmFtZSA9PSB0aGlzLnVzZXIudXNlcm5hbWUpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIGlmICghdGhpcy5mb3JtYXRVc2VyTmFtZS50ZXN0KHRoaXMudXNlck5hbWUpKSB7CiAgICAgICAgdGhpcy51c2VyTmFtZVZhbGlkYXRpb24gPSBmYWxzZTsKICAgICAgICB0aGlzLnVzZXJOYW1lTWVzc2FnZSA9CiAgICAgICAgICAiWW91ciB1c2VybmFtZSBtdXN0IGJlIDYtMjAgY2hhcmFjdGVycyB1c2luZyBhbHBoYWJldHMgYW5kIG51bWJlcnMiOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gKGF3YWl0IFVzZXJTZXJ2aWNlLmNoZWNrVXNlck5hbWUodGhpcy51c2VyTmFtZSkpLmRhdGE7CiAgICAgICAgdGhpcy51c2VyTmFtZVZhbGlkYXRpb24gPSByZXNwb25zZS51c2VyTmFtZUF2YWlsYWJsZTsKICAgICAgICBpZiAocmVzcG9uc2UudXNlck5hbWVBdmFpbGFibGUgPT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy51c2VyTmFtZU1lc3NhZ2UgPSAiIjsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnVzZXJOYW1lTWVzc2FnZSA9ICJUaGlzIHVzZXJuYW1lIGlzIG5vdCBhdmFpbGFibGUiOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLnVzZXJOYW1lVmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgIHRoaXMudXNlck5hbWVNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHVwZGF0ZVVzZXJOYW1lKCkgewogICAgICBpZiAoCiAgICAgICAgIShhd2FpdCB0aGlzLmNoZWNrVXNlck5hbWUoKSkgfHwKICAgICAgICB0aGlzLnVzZXJOYW1lID09IHRoaXMudXNlci51c2VybmFtZQogICAgICApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBVc2VyU2VydmljZS51cGRhdGVVc2VyKHsKICAgICAgICAgIGlkOiB0aGlzLnVzZXIuaWQsCiAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VyTmFtZQogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJDdXJyZW50VXNlci9zZXRVc2VyTmFtZSIsIHRoaXMudXNlck5hbWUpOwogICAgICAgIHRoaXMuZWRpdFVzZXJOYW1lIF49IDE7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMudXNlck5hbWVWYWxpZGF0aW9uID0gZmFsc2U7CiAgICAgICAgdGhpcy51c2VyTmFtZU1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgcmVzZXRQYXNzd29yZEZpZWxkKCkgewogICAgICB0aGlzLmN1cnJlbnRQYXNzd29yZCA9ICIiOwogICAgICB0aGlzLm5ld1Bhc3N3b3JkID0gbnVsbDsKICAgICAgdGhpcy5jb25maXJtUGFzc3dvcmQgPSBudWxsOwogICAgfSwKICAgIGFzeW5jIHVwZGF0ZVBhc3N3b3JkKCkgewogICAgICB2YXIgY29ycmVjdFBhc3N3b3JkID0gZmFsc2U7CiAgICAgIHRyeSB7CiAgICAgICAgY29ycmVjdFBhc3N3b3JkID0gKAogICAgICAgICAgYXdhaXQgQXV0aGVudGljYXRpb25TZXJ2aWNlLnZlcmlmeVBhc3N3b3JkKHRoaXMuY3VycmVudFBhc3N3b3JkKQogICAgICAgICkuZGF0YS5jb3JyZWN0UGFzc3dvcmQ7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy52YWxpZEN1cnJlbnRQYXNzd29yZCA9IGZhbHNlOwogICAgICAgIHRoaXMuY3VycmVudFBhc3N3b3JkTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3I7CiAgICAgIH0KICAgICAgaWYgKAogICAgICAgIGNvcnJlY3RQYXNzd29yZCAmJgogICAgICAgIHRoaXMubmV3UGFzc3dvcmRWYWxpZGF0aW9uICYmCiAgICAgICAgdGhpcy5jb25maXJtUGFzc3dvcmRWYWxpZGF0aW9uCiAgICAgICkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBhd2FpdCBBdXRoZW50aWNhdGlvblNlcnZpY2UudXBkYXRlUGFzc3dvcmQoewogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5uZXdQYXNzd29yZAogICAgICAgICAgfSk7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIHRoaXMudmFsaWRDdXJyZW50UGFzc3dvcmQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuY3VycmVudFBhc3N3b3JkTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3I7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["UPublicProfile.vue"],"names":[],"mappings":";AA+RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UPublicProfile.vue","sourceRoot":"src/components/User/Profile","sourcesContent":["<template>\n  <div>\n    <b-row>\n      <b-col>\n        <h5>Public profile</h5>\n      </b-col>\n    </b-row>\n    <hr class=\"my-2\" />\n    <b-row class=\"mt-3\">\n      <b-col cols=\"7\">\n        <div>\n          <strong>Name</strong>\n          <b-badge\n            pill\n            class=\"ml-2\"\n            v-if=\"user.priority == 1\"\n            variant=\"success\"\n          >\n            <b-icon icon=\"check-circle-fill\" />\n            Admin\n          </b-badge>\n        </div>\n        <div class=\"mt-1\" v-if=\"editName == 0\">\n          {{ user.firstName }} {{ user.lastName }}\n          <b-button @click=\"changeName\" variant=\"white\" class=\"ml-1\" size=\"sm\">\n            <b-icon\n              v-b-tooltip.hover\n              title=\"change name\"\n              scale=\"0.8\"\n              icon=\"pen\"\n            />\n          </b-button>\n        </div>\n\n        <div v-if=\"editName == 1\">\n          <b-form @submit.stop.prevent=\"updateName\">\n            <b-row class=\"mt-2\">\n              <b-col>\n                <b-form-input\n                  size=\"sm\"\n                  placeholder=\"First Name\"\n                  v-model=\"firstName\"\n                  required\n                />\n              </b-col>\n              <b-col>\n                <b-form-input\n                  size=\"sm\"\n                  placeholder=\"Last Name\"\n                  v-model=\"lastName\"\n                  required\n                />\n              </b-col>\n            </b-row>\n            <b-row class=\"mt-2\">\n              <b-col>\n                <b-button size=\"sm\" type=\"submit\" variant=\"warning\">\n                  Save\n                </b-button>\n                <b-button\n                  class=\"ml-2\"\n                  @click=\"editName ^= 1\"\n                  size=\"sm\"\n                  variant=\"outline-danger\"\n                >\n                  Cancel\n                </b-button>\n              </b-col>\n            </b-row>\n          </b-form>\n        </div>\n\n        <div>\n          <div class=\"mt-3\">\n            <strong>Username</strong>\n            <b-button\n              v-if=\"!user.username\"\n              @click=\"changeUserName\"\n              variant=\"white\"\n              class=\"ml-1\"\n              size=\"sm\"\n            >\n              <b-icon\n                v-b-tooltip.hover\n                title=\"Add username\"\n                scale=\"0.8\"\n                icon=\"pen\"\n              />\n            </b-button>\n          </div>\n          <div class=\"mt-1\" v-if=\"user.username && editUserName == 0\">\n            {{ user.username }}\n            <b-button\n              @click=\"changeUserName\"\n              variant=\"white\"\n              class=\"ml-1\"\n              size=\"sm\"\n            >\n              <b-icon\n                v-b-tooltip.hover\n                title=\"Change username\"\n                scale=\"0.8\"\n                icon=\"pen\"\n              />\n            </b-button>\n          </div>\n          <div v-if=\"editUserName == 1\">\n            <b-form @submit.stop.prevent=\"updateUserName\">\n              <b-row max-cols=\"6\" class=\"mt-2\">\n                <b-col cols=\"6\">\n                  <b-form-input\n                    size=\"sm\"\n                    placeholder=\"Username\"\n                    v-model=\"userName\"\n                    debounce=\"500\"\n                    @update=\"checkUserName\"\n                    :state=\"userNameValidation\"\n                    required\n                  />\n                  <b-form-valid-feedback :state=\"userNameValidation\">\n                    This username is available.\n                  </b-form-valid-feedback>\n                  <b-form-invalid-feedback :state=\"userNameValidation\">\n                    {{ userNameMessage }}\n                  </b-form-invalid-feedback>\n                </b-col>\n              </b-row>\n              <b-row class=\"mt-2\">\n                <b-col>\n                  <b-button size=\"sm\" type=\"submit\" variant=\"warning\">\n                    Save\n                  </b-button>\n                  <b-button\n                    class=\"ml-2\"\n                    @click=\"editUserName ^= 1\"\n                    size=\"sm\"\n                    variant=\"outline-danger\"\n                  >\n                    Cancel\n                  </b-button>\n                </b-col>\n              </b-row>\n            </b-form>\n          </div>\n        </div>\n        <div class=\"mt-3\">\n          <strong>Email</strong>\n        </div>\n        <div class=\"mt-1\">\n          {{ user.email }}\n        </div>\n        <div class=\"mt-3\">\n          <strong>Password</strong>\n        </div>\n        <div class=\"mt-1\">\n          ********\n          <b-button\n            v-b-modal.modalUpdatePassword\n            variant=\"white\"\n            class=\"ml-1\"\n            size=\"sm\"\n          >\n            <b-icon\n              v-b-tooltip.hover\n              title=\"change password\"\n              scale=\"0.8\"\n              icon=\"pen\"\n            />\n          </b-button>\n        </div>\n        <b-modal\n          @shown=\"$refs.currentPasswordField.focus()\"\n          title=\"Change password\"\n          id=\"modalUpdatePassword\"\n          hide-footer\n        >\n          <b-form\n            @reset=\"resetPasswordField\"\n            @submit.stop.prevent=\"updatePassword\"\n          >\n            <b-form-group\n              id=\"input-group-current-password\"\n              label=\"Current Password\"\n              label-for=\"input-current-password\"\n            >\n              <b-form-input\n                v-model=\"currentPassword\"\n                id=\"input-current-password\"\n                type=\"password\"\n                ref=\"currentPasswordField\"\n                :state=\"validCurrentPassword && currentPasswordValidation\"\n                required\n              />\n              <b-form-invalid-feedback\n                v-if=\"currentPassword\"\n                :state=\"validCurrentPassword && currentPasswordValidation\"\n              >\n                {{ currentPasswordMessage }}\n              </b-form-invalid-feedback>\n              <b-form-invalid-feedback\n                v-if=\"!currentPassword\"\n                :state=\"validCurrentPassword && currentPasswordValidation\"\n              >\n                Current password field can't be empty!\n              </b-form-invalid-feedback>\n            </b-form-group>\n            <b-form-group\n              id=\"input-group-new-password\"\n              label=\"New Password\"\n              label-for=\"input-new-password\"\n            >\n              <b-form-input\n                v-model=\"newPassword\"\n                id=\"input-new-password\"\n                type=\"password\"\n                :state=\"newPasswordValidation\"\n                required\n              />\n\n              <b-form-invalid-feedback\n                v-if=\"newPassword\"\n                :state=\"newPasswordValidation\"\n              >\n                New password must have 8-32 character long, contain letters,\n                numbers and must not contain space.\n              </b-form-invalid-feedback>\n              <b-form-invalid-feedback\n                v-if=\"!newPassword\"\n                :state=\"newPasswordValidation\"\n              >\n                Password field can't be empty!\n              </b-form-invalid-feedback>\n            </b-form-group>\n            <b-form-group\n              id=\"input-group-confirm-password\"\n              label=\"Confirm Password\"\n              label-for=\"input-confirm-password\"\n            >\n              <b-form-input\n                v-model=\"confirmPassword\"\n                id=\"input-confirm-password\"\n                :state=\"confirmPasswordValidation\"\n                type=\"password\"\n                required\n              />\n              <b-form-invalid-feedback\n                v-if=\"confirmPassword\"\n                :state=\"confirmPasswordValidation\"\n              >\n                Password didn't match\n              </b-form-invalid-feedback>\n              <b-form-invalid-feedback\n                v-if=\"!confirmPassword\"\n                :state=\"confirmPasswordValidation\"\n              >\n                Password field can't be empty!\n              </b-form-invalid-feedback>\n            </b-form-group>\n            <b-row class=\"mt-4\">\n              <b-col cols=\"4\" />\n              <b-col cols=\"4\">\n                <b-button type=\"reset\" block variant=\"danger\">\n                  Reset\n                </b-button>\n              </b-col>\n              <b-col cols=\"4\">\n                <b-button block type=\"submit\" variant=\"success\">\n                  Submit\n                </b-button>\n              </b-col>\n            </b-row>\n          </b-form>\n        </b-modal>\n      </b-col>\n      <b-col cols=\"5\">\n        <b-img\n          rounded=\"circle\"\n          width=\"230px\"\n          height=\"auto\"\n          :src=\"user.profileImage\"\n        />\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport AuthenticationService from \"@/services/AuthenticationService.js\";\nimport UserService from \"@/services/UserService.js\";\nexport default {\n  name: \"UPublicProfile\",\n  components: {},\n  data() {\n    return {\n      user: {},\n      userId: 0,\n      editName: 0,\n      lastName: \"\",\n      userName: \"\",\n      firstName: \"\",\n      editUserName: 0,\n      formatUserName: /^[a-zA-Z0-9]{6,20}$/,\n      formatPassword: /^[a-zA-z0-9]{8,32}$/,\n      userNameMessage: \"\",\n      userNameValidation: null,\n      validCurrentPassword: true,\n      currentPasswordMessage: \"\",\n      newPasswordMessage: \"\",\n      confirmPasswordMessage: \"\",\n      currentPassword: null,\n      newPassword: null,\n      confirmPassword: null\n    };\n  },\n  computed: {\n    currentPasswordValidation() {\n      if (this.currentPassword == \"\") return false;\n      else return null;\n    },\n    newPasswordValidation() {\n      if (this.newPassword == null) return null;\n      else if (!this.formatPassword.test(this.newPassword)) {\n        return false;\n      } else return true;\n    },\n    confirmPasswordValidation() {\n      if (this.confirmPassword == null) return null;\n      else if (\n        this.newPassword != this.confirmPassword ||\n        !this.formatPassword.test(this.confirmPassword)\n      ) {\n        return false;\n      } else return true;\n    }\n  },\n  async mounted() {\n    this.userId = this.$store.state.CurrentUser.userId;\n    try {\n      this.user = (await UserService.getUserById(this.userId)).data;\n    } catch (error) {\n      console.log(error.response.data.error);\n    }\n  },\n  methods: {\n    changeName() {\n      this.firstName = this.user.firstName;\n      this.lastName = this.user.lastName;\n      this.editName ^= 1;\n    },\n    async updateName() {\n      try {\n        await UserService.updateUser({\n          id: this.user.id,\n          firstName: this.firstName,\n          lastName: this.lastName\n        });\n        this.$store.dispatch(\"CurrentUser/setName\", {\n          firstName: this.firstName,\n          lastName: this.lastName\n        });\n        this.editName ^= 1;\n        window.location.reload();\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    },\n    changeUserName() {\n      this.userName = this.user.username;\n      this.editUserName ^= 1;\n    },\n    async checkUserName() {\n      if (this.userName == this.user.username) {\n        return true;\n      } else if (!this.formatUserName.test(this.userName)) {\n        this.userNameValidation = false;\n        this.userNameMessage =\n          \"Your username must be 6-20 characters using alphabets and numbers\";\n        return false;\n      }\n      try {\n        const response = (await UserService.checkUserName(this.userName)).data;\n        this.userNameValidation = response.userNameAvailable;\n        if (response.userNameAvailable == true) {\n          this.userNameMessage = \"\";\n          return true;\n        } else {\n          this.userNameMessage = \"This username is not available\";\n          return false;\n        }\n      } catch (error) {\n        this.userNameValidation = false;\n        this.userNameMessage = error.response.data.error;\n        console.log(error.response.data.error);\n      }\n    },\n    async updateUserName() {\n      if (\n        !(await this.checkUserName()) ||\n        this.userName == this.user.username\n      ) {\n        return;\n      }\n      try {\n        await UserService.updateUser({\n          id: this.user.id,\n          username: this.userName\n        });\n        this.$store.dispatch(\"CurrentUser/setUserName\", this.userName);\n        this.editUserName ^= 1;\n        window.location.reload();\n      } catch (error) {\n        this.userNameValidation = false;\n        this.userNameMessage = error.response.data.error;\n        console.log(error.response.data.error);\n      }\n    },\n    resetPasswordField() {\n      this.currentPassword = \"\";\n      this.newPassword = null;\n      this.confirmPassword = null;\n    },\n    async updatePassword() {\n      var correctPassword = false;\n      try {\n        correctPassword = (\n          await AuthenticationService.verifyPassword(this.currentPassword)\n        ).data.correctPassword;\n      } catch (error) {\n        this.validCurrentPassword = false;\n        this.currentPasswordMessage = error.response.data.error;\n      }\n      if (\n        correctPassword &&\n        this.newPasswordValidation &&\n        this.confirmPasswordValidation\n      ) {\n        try {\n          await AuthenticationService.updatePassword({\n            password: this.newPassword\n          });\n          window.location.reload();\n        } catch (error) {\n          this.validCurrentPassword = false;\n          this.currentPasswordMessage = error.response.data.error;\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}