{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\src\\views\\PayMoney\\SuccessPayment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\src\\views\\PayMoney\\SuccessPayment.vue","mtime":1668175644839},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053078023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBUb3BIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL0NvbW1vbi9Ub3BIZWFkZXIudnVlIjsKaW1wb3J0IEZvb3RlciBmcm9tICJAL2NvbXBvbmVudHMvQ29tbW9uL0Zvb3Rlci52dWUiOwppbXBvcnQgeyBqc1BERiB9IGZyb20gImpzcGRmIjsKLy8gaW1wb3J0IENoZWNrb3V0U2VydmljZSBmcm9tICJAL3NlcnZpY2VzL0NoZWNrb3V0U2VydmljZS5qcyI7Ci8vIGltcG9ydCBPcmRlclNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9PcmRlclNlcnZpY2UuanMiOwovLyBpbXBvcnQgT3JkZXJJdGVtU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL09yZGVySXRlbVNlcnZpY2UuanMiOwovLyBpbXBvcnQgUHJvZHVjdHNTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvUHJvZHVjdHNTZXJ2aWNlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdWNjZXNzUGF5bWVudCIsCiAgY29tcG9uZW50czogewogICAgVG9wSGVhZGVyLAogICAgRm9vdGVyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gb3JkZXI6IHt9LAogICAgICAvLyBzZXNzaW9uOiB7fSwKICAgICAgLy8gdmFsaWRTZXNzaW9uOiBmYWxzZQogICAgICBoZWFkaW5nOiAiRmFjdHVyZSBkZSAgY29tbWFuZGUgT2V1ZiBkJ29yIgogICAgfTsKICB9LAoKCiAgbW91bnRlZCgpIHsKICAgCiAgfSwKICBjcmVhdGVkKCkgewogICAgY29uc3QgZmFjdHVyZUluZm8gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbG10RmFjdHVyZSIpKTsKICAgIGNvbnNvbGUubG9nKGZhY3R1cmVJbmZvKTsKICB9LAogIC8vIGFzeW5jIG1vdW50ZWQoKSB7CiAgLy8gICAvLyBjb25zdCBzZXNzaW9uSWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsKICAvLyAgIGNvbnN0IHNlc3Npb25JZCA9IDEyMzQ1Njc4OQogIC8vICAgY29uc29sZS5sb2coc2Vzc2lvbklkKTsKICAgIAogIC8vICAgdmFyIHByZXZpb3VzT3JkZXI7CiAgLy8gICB0cnkgewogIC8vICAgICBwcmV2aW91c09yZGVyID0gKGF3YWl0IE9yZGVyU2VydmljZS5nZXRPcmRlckJ5U2Vzc2lvbklkKHNlc3Npb25JZCkpLmRhdGE7CiAgLy8gICB9IGNhdGNoIChlcnJvcikgewogIC8vICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAvLyAgIH0KICAvLyAgIGlmIChwcmV2aW91c09yZGVyKSByZXR1cm47CiAgLy8gICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ2FydC9jbGVhckNhcnQiKTsKICAvLyAgIHRyeSB7CiAgLy8gICAgIHRoaXMuc2Vzc2lvbiA9ICgKICAvLyAgICAgICBhd2FpdCBDaGVja291dFNlcnZpY2UucmV0cmlldmVDaGVja291dFNlc3Npb24oc2Vzc2lvbklkKQogIC8vICAgICApLmRhdGE7CiAgLy8gICAgIHRoaXMudmFsaWRTZXNzaW9uID0gT2JqZWN0LmtleXModGhpcy5zZXNzaW9uKS5sZW5ndGggIT0gMDsKICAvLyAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgLy8gICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpOwogIC8vICAgfQogIC8vICAgaWYgKCF0aGlzLnZhbGlkU2Vzc2lvbikgcmV0dXJuOwogIC8vICAgY29uc3QgbGluZUl0ZW1zID0gdGhpcy5zZXNzaW9uLmxpbmVfaXRlbXMuZGF0YTsKICAvLyAgIC8vIGNvbnN0IHNoaXBDb3N0ID0gbGluZUl0ZW1zW2xpbmVJdGVtcy5sZW5ndGggLSAxXS5hbW91bnRfdG90YWw7CiAgLy8gICBjb25zdCBzaGlwQ29zdCA9IDA7CiAgLy8gICB0cnkgewogIC8vICAgICB0aGlzLm9yZGVyID0gKAogIC8vICAgICAgIGF3YWl0IE9yZGVyU2VydmljZS5jcmVhdGVPcmRlcih7CiAgLy8gICAgICAgICBuYW1lOiB0aGlzLnNlc3Npb24ubWV0YWRhdGEuY3VzdG9tZXJOYW1lLAogIC8vICAgICAgICAgcGhvbmVObzogdGhpcy5zZXNzaW9uLm1ldGFkYXRhLmN1c3RvbWVyUGhvbmVObywKICAvLyAgICAgICAgIGVtYWlsOiB0aGlzLnNlc3Npb24uY3VzdG9tZXJfZW1haWwsCiAgLy8gICAgICAgICBhZGRyZXNzOiB0aGlzLnNlc3Npb24ubWV0YWRhdGEuc2hpcHBpbmdBZGRyZXNzLAogIC8vICAgICAgICAgc3RhdHVzOiAicGFpZCIsCiAgLy8gICAgICAgICB2YXJpYW50OiAiZGFyayIsCiAgLy8gICAgICAgICBjaGVja291dFNlc3Npb25JZDogc2Vzc2lvbklkLAogIC8vICAgICAgICAgcHJvZHVjdENvc3Q6ICh0aGlzLnNlc3Npb24uYW1vdW50X3RvdGFsIC0gc2hpcENvc3QpIC8gMTAwLAogIC8vICAgICAgICAgY3VycmVuY3k6IHRoaXMuc2Vzc2lvbi5jdXJyZW5jeS50b1VwcGVyQ2FzZSgpLAogIC8vICAgICAgICAgLy8gc2hpcHBpbmdDb3N0OiBzaGlwQ29zdCAvIDEwMAogIC8vICAgICAgICAgc2hpcHBpbmdDb3N0OiAwCiAgLy8gICAgICAgfSkKICAvLyAgICAgKS5kYXRhOwogIC8vICAgfSBjYXRjaCAoZXJyb3IpIHsKICAvLyAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgLy8gICB9CgogIC8vICAgdmFyIGk7CiAgLy8gICBmb3IgKGkgPSAwOyBpIDwgbGluZUl0ZW1zLmxlbmd0aCAtIDE7IGkrKykgewogIC8vICAgICBjb25zdCBwcm9kdWN0SWQgPSBwYXJzZUludChsaW5lSXRlbXNbaV0uZGVzY3JpcHRpb24pOwogIC8vICAgICB0cnkgewogIC8vICAgICAgIGF3YWl0IE9yZGVySXRlbVNlcnZpY2UuY3JlYXRlT3JkZXJJdGVtKHsKICAvLyAgICAgICAgIHF1YW50aXR5OiBsaW5lSXRlbXNbaV0ucXVhbnRpdHksCiAgLy8gICAgICAgICBQcm9kdWN0SWQ6IHByb2R1Y3RJZCwKICAvLyAgICAgICAgIE9yZGVySWQ6IHRoaXMub3JkZXIuaWQKICAvLyAgICAgICB9KTsKICAvLyAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAvLyAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAvLyAgICAgfQogIC8vICAgICB2YXIgbGluZXByb2R1Y3Q7CiAgLy8gICAgIHRyeSB7CiAgLy8gICAgICAgbGluZXByb2R1Y3QgPSAoYXdhaXQgUHJvZHVjdHNTZXJ2aWNlLmdldFByb2R1Y3RTYWxlcyhwcm9kdWN0SWQpKS5kYXRhOwogIC8vICAgICB9IGNhdGNoIChlcnJvcikgewogIC8vICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpOwogIC8vICAgICB9CiAgLy8gICAgIHRyeSB7CiAgLy8gICAgICAgYXdhaXQgUHJvZHVjdHNTZXJ2aWNlLnVwZGF0ZVByb2R1Y3QoewogIC8vICAgICAgICAgaWQ6IHByb2R1Y3RJZCwKICAvLyAgICAgICAgIHNhbGVzOiBsaW5lcHJvZHVjdC5zYWxlcyArIGxpbmVJdGVtc1tpXS5xdWFudGl0eQogIC8vICAgICAgIH0pOwogIC8vICAgICB9IGNhdGNoIChlcnJvcikgewogIC8vICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpOwogIC8vICAgICB9CiAgLy8gICB9CiAgLy8gfSwKICAKICBtZXRob2RzOiB7CiAgICBnZW5lcmVyRmFjdHVyZSgpIHsKICAgICAgY29uc29sZS5sb2coIkZhY3R1cmUgZ8OpbsOpcsOpIik7Ci8vIExhbmRzY2FwZSBleHBvcnQsIDLDlzQgaW5jaGVzCmNvbnN0IGRvYyA9IG5ldyBqc1BERigpOwpkb2MudGV4dCgiSGVsbG8gd29ybGQhIiwgMTAsIDEwKTsKZG9jLnNhdmUoImE0LnBkZiIpOyAvLyB3aWxsIHNhdmUgdGhlIGZpbGUgaW4gdGhlIGN1cnJlbnQgd29ya2luZyBkaXJlY3RvcnkKCiAgICB9LAogICAgCiAgICBnZW5lcmF0ZVBkZigpewogICAgICAgdmFyIGRvYyA9IG5ldyBqc1BERigncCcsICdwdCcsICdBNCcpOwogICAgICAKICAgICAgZG9jLmZyb21IVE1MKHRoaXMuJHJlZnMudGVzdEh0bWwpOwogICAgICAKICAgICAgZG9jLnNhdmUoJ3Rlc3QucGRmJyk7CiAgICB9CgogIH0sCiAgY29tcHV0ZWQ6IHt9Cn07Cg=="},{"version":3,"sources":["SuccessPayment.vue"],"names":[],"mappings":";AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA","file":"SuccessPayment.vue","sourceRoot":"src/views/PayMoney","sourcesContent":["\n<template>\n  <div>\n    <TopHeader></TopHeader>\n    <b-container class=\"mt-5\">\n      <b-row align-h=\"center\">\n        <b-col cols=\"6\" class=\"text-center\">\n          <b-card\n            border-variant=\"success\"\n            header=\"Succès\"\n            header-bg-variant=\"success\"\n            header-text-variant=\"white\"\n            align=\"center\"\n          >\n            <b-button size=\"lg\" disabled variant=\"success\">\n              <b-icon icon=\"check\" scale=\"3\" />\n            </b-button>\n            <h1 class=\"mt-4\">Commande éffectuée!</h1>\n            <h6>Merci pour votre fidélité</h6>\n            <h6>Votre livraison sera effectué dans un delai de deux jours</h6>\n            <h6><strong> Un message vous ai été envoyé sur votre email. Ce message contient votre code de commande à présenter au livreur lors de la livraison</strong></h6>\n            <b-button style=\"margin-top: 20px;\" @click=\"genererFacture()\">Générer une facture</b-button>\n\n            <b-card-footer class=\"mt-4\"> oeuf-dor.com </b-card-footer>\n          </b-card>\n        </b-col>\n      </b-row>\n\n\n      <div id=\"app\" ref=\"testHtml\">\n        <h1>Test heading </h1>\n        <div class=\"card\">\n        <div class=\"card-header\">\n          Featured\n        </div>\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">Special title treatment</h5>\n          <p class=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\n          <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n        </div>\n      </div>\n        <div class=\"card\">\n        <div class=\"card-header\">\n          Featured\n        </div>\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">Special title treatment</h5>\n          <p class=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\n          <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n        </div>\n      </div>\n        <button class=\"btn btn-danger\" @click=\"generatePdf\">generate PDF</button>\n      </div>\n      \n      \n\n\n    </b-container>\n    <Footer class=\"mt-5\" />\n  </div>\n</template>\n\n<script>\nimport TopHeader from \"@/components/Common/TopHeader.vue\";\nimport Footer from \"@/components/Common/Footer.vue\";\nimport { jsPDF } from \"jspdf\";\n// import CheckoutService from \"@/services/CheckoutService.js\";\n// import OrderService from \"@/services/OrderService.js\";\n// import OrderItemService from \"@/services/OrderItemService.js\";\n// import ProductsService from \"@/services/ProductsService.js\";\nexport default {\n  name: \"SuccessPayment\",\n  components: {\n    TopHeader,\n    Footer\n  },\n  data() {\n    return {\n      // order: {},\n      // session: {},\n      // validSession: false\n      heading: \"Facture de  commande Oeuf d'or\"\n    };\n  },\n\n\n  mounted() {\n   \n  },\n  created() {\n    const factureInfo = JSON.parse(localStorage.getItem(\"elmtFacture\"));\n    console.log(factureInfo);\n  },\n  // async mounted() {\n  //   // const sessionId = this.$route.query.id;\n  //   const sessionId = 123456789\n  //   console.log(sessionId);\n    \n  //   var previousOrder;\n  //   try {\n  //     previousOrder = (await OrderService.getOrderBySessionId(sessionId)).data;\n  //   } catch (error) {\n  //     console.log(error.response.data.error);\n  //   }\n  //   if (previousOrder) return;\n  //   this.$store.dispatch(\"Cart/clearCart\");\n  //   try {\n  //     this.session = (\n  //       await CheckoutService.retrieveCheckoutSession(sessionId)\n  //     ).data;\n  //     this.validSession = Object.keys(this.session).length != 0;\n  //   } catch (error) {\n  //     console.log(error.response.data.error);\n  //   }\n  //   if (!this.validSession) return;\n  //   const lineItems = this.session.line_items.data;\n  //   // const shipCost = lineItems[lineItems.length - 1].amount_total;\n  //   const shipCost = 0;\n  //   try {\n  //     this.order = (\n  //       await OrderService.createOrder({\n  //         name: this.session.metadata.customerName,\n  //         phoneNo: this.session.metadata.customerPhoneNo,\n  //         email: this.session.customer_email,\n  //         address: this.session.metadata.shippingAddress,\n  //         status: \"paid\",\n  //         variant: \"dark\",\n  //         checkoutSessionId: sessionId,\n  //         productCost: (this.session.amount_total - shipCost) / 100,\n  //         currency: this.session.currency.toUpperCase(),\n  //         // shippingCost: shipCost / 100\n  //         shippingCost: 0\n  //       })\n  //     ).data;\n  //   } catch (error) {\n  //     console.log(error.response.data.error);\n  //   }\n\n  //   var i;\n  //   for (i = 0; i < lineItems.length - 1; i++) {\n  //     const productId = parseInt(lineItems[i].description);\n  //     try {\n  //       await OrderItemService.createOrderItem({\n  //         quantity: lineItems[i].quantity,\n  //         ProductId: productId,\n  //         OrderId: this.order.id\n  //       });\n  //     } catch (error) {\n  //       console.log(error.response.data.error);\n  //     }\n  //     var lineproduct;\n  //     try {\n  //       lineproduct = (await ProductsService.getProductSales(productId)).data;\n  //     } catch (error) {\n  //       console.log(error.response.data.error);\n  //     }\n  //     try {\n  //       await ProductsService.updateProduct({\n  //         id: productId,\n  //         sales: lineproduct.sales + lineItems[i].quantity\n  //       });\n  //     } catch (error) {\n  //       console.log(error.response.data.error);\n  //     }\n  //   }\n  // },\n  \n  methods: {\n    genererFacture() {\n      console.log(\"Facture généré\");\n// Landscape export, 2×4 inches\nconst doc = new jsPDF();\ndoc.text(\"Hello world!\", 10, 10);\ndoc.save(\"a4.pdf\"); // will save the file in the current working directory\n\n    },\n    \n    generatePdf(){\n       var doc = new jsPDF('p', 'pt', 'A4');\n      \n      doc.fromHTML(this.$refs.testHtml);\n      \n      doc.save('test.pdf');\n    }\n\n  },\n  computed: {}\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}