{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\Common\\TopHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\Common\\TopHeader.vue","mtime":1666706617784},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664810865393},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1664810865430},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664810865393},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1664810875252}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8qIGVzbGludC1kaXNhYmxlICovCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVG9wSGVhZGVyIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sb3JzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIGNvbG9yOiAnZGFuZ2VyJywKICAgICAgICAgICAgdmFsdWU6ICcxJwogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIGFjdGl2ZTogJ2hvbWUnLAogICAgICBhY3RpdmVTaWRlYmFyOiBmYWxzZSwKICAgICAgdXNlcjoge30sCiAgICAgIGFkbWluOiBmYWxzZSwKICAgICAgY29tcGFueUxvZ286ICIiLAogICAgICB1c2VyTG9nZ2VkSW46IGZhbHNlLAogICAgICBjYXRlZ29yeUxpc3Q6IFtdLAogICAgICBzZWFyY2hUeHQ6ICIiLAogICAgICBzZWFyY2hDYXRlZ29yeUlkOiAwLAogICAgICBzZWFyY2hDYXRlZ29yeU5hbWU6ICJBbGwgQ2F0ZWdvcnkiCiAgICB9OwogIH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIHRoaXMuY29tcGFueUxvZ28gPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ29tcGFueS9nZXRDb21wYW55TG9nbyIpOwogICAgdGhpcy51c2VyID0gdGhpcy4kc3RvcmUuc3RhdGUuQ3VycmVudFVzZXIudXNlcjsKICAgIHRoaXMuYWRtaW4gPSB0aGlzLiRzdG9yZS5zdGF0ZS5DdXJyZW50VXNlci5hZG1pbjsKICAgIHRoaXMudXNlckxvZ2dlZEluID0gdGhpcy4kc3RvcmUuc3RhdGUuQ3VycmVudFVzZXIudXNlckxvZ2dlZEluOwogICAgdGhpcy5jYXRlZ29yeUxpc3QgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ2F0ZWdvcnkvZ2V0Q2F0ZWdvcnlMaXN0Iik7CiAgfSwKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczogewogICAgd2lzaGxpc3QoKSB7CiAgICAgIGlmICghdGhpcy51c2VyTG9nZ2VkSW4pIHsKICAgICAgICB0aGlzLiRidlRvYXN0LnRvYXN0KCJQbGVhc2UgbG9naW4gZm9yIHRoZSB3aXNobGlzdCIsIHsKICAgICAgICAgIHRpdGxlOiAiV2lzaGxpc3QiLAogICAgICAgICAgdmFyaWFudDogInByaW1hcnkiLAogICAgICAgICAgdG9hc3RlcjogImItdG9hc3Rlci10b3AtY2VudGVyIiwKICAgICAgICAgIG5vQ2xvc2VCdXR0b246IGZhbHNlLAogICAgICAgICAgc29saWQ6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvd2lzaGxpc3QiIH0pOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgbG9nb3V0KCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ3VycmVudFVzZXIvc2V0VG9rZW4iLCAiIik7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJDdXJyZW50VXNlci9zZXRVc2VyIiwge30pOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiV2lzaGxpc3QvY2xlYXJXaXNobGlzdCIpOwogICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9LAogICAgc2V0X2NhdGVnb3J5KGNhdGVnb3J5KSB7CiAgICAgIHRoaXMuc2VhcmNoQ2F0ZWdvcnlJZCA9IGNhdGVnb3J5LmlkOwogICAgICB0aGlzLnNlYXJjaENhdGVnb3J5TmFtZSA9IGNhdGVnb3J5Lm5hbWU7CiAgICB9LAogICAgc2VhcmNoKCkgewogICAgICB2YXIgbmV3Um91dGUgPSAiL3Byb2R1Y3RzIjsKICAgICAgaWYgKHRoaXMuc2VhcmNoQ2F0ZWdvcnlJZCAhPSAwKSB7CiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLnNlYXJjaENhdGVnb3J5TmFtZTsKICAgICAgICBuZXdSb3V0ZSArPSAiLyIgKyBjYXRlZ29yeTsKICAgICAgfQogICAgICBpZiAodGhpcy5zZWFyY2hUeHQgIT0gIiIpIHsKICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5zZWFyY2hUeHQ7CiAgICAgICAgbmV3Um91dGUgKz0gIj9xPSIgKyB0ZXh0OwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogbmV3Um91dGUgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["TopHeader.vue"],"names":[],"mappings":";AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TopHeader.vue","sourceRoot":"src/components/Common","sourcesContent":["<template>\n  \n  <div>\n    <b-row>\n      <b-col>\n        <b-navbar\n          class=\"py-3\"\n          toggleable=\"lg\"\n          type=\"dark\"\n          style=\"background-color: #00283a\"\n        >\n          <b-navbar-brand href=\"/\">\n            <b-img :src=\"companyLogo\" />\n          </b-navbar-brand>\n          <b-navbar-toggle target=\"nav-top-header-collapse\" />\n          <b-collapse id=\"nav-top-header-collapse\" is-nav>\n            <b-navbar-nav class=\"mr-auto\">\n              <b-dropdown\n                id=\"dropdown-right\"\n                :text=\"searchCategoryName\"\n                style=\"background-color: #fff\"\n                variant=\"transparent\"\n                class=\"mr-auto\"\n              >\n                <b-dropdown-item\n                  variant=\"dark\"\n                  @click=\"set_category({ id: 0, name: 'All Category' })\"\n                >\n                  All Category\n                </b-dropdown-item>\n                <b-dropdown-item\n                  variant=\"dark\"\n                  @click=\"set_category(category)\"\n                  v-for=\"category in categoryList\"\n                  :key=\"category.id\"\n                >\n                  {{ category.name }}\n                </b-dropdown-item>\n              </b-dropdown>\n\n              <b-nav-form class=\"mr-auto\" v-on:submit.prevent=\"search\">\n                <!-- <b-form-input\n                  class=\"mr-sm-2 searchField\"\n                  v-model=\"searchTxt\"\n                  placeholder=\"Search for products &amp; brands\"\n                /> -->\n                <vs-input  color=\"#ffff\" v-model=\"searchTxt\" placeholder=\"Name\" />\n              </b-nav-form>\n            </b-navbar-nav>\n\n            <b-navbar-nav class=\"ml-auto\">\n              <b-nav-item class=\"mr-auto\" @click=\"wishlist\">\n                <div>\n                  <b-icon scale=\"0.8\" icon=\"suit-heart\" />\n                  Wishlist\n                </div>\n              </b-nav-item>\n              <b-nav-item class=\"mr-auto\" to=\"/cart-view\">\n                <div>\n                  <b-icon icon=\"cart2\" />\n                  Cart\n                </div>\n              </b-nav-item>\n              <b-nav-item class=\"mr-auto\" v-if=\"userLoggedIn\">\n                <b-img height=\"35px\" width=\"35px\" :src=\"user.profileImage\" />\n              </b-nav-item>\n              <b-nav-item-dropdown class=\"mr-auto\" right v-if=\"userLoggedIn\">\n                <template #button-content>\n                  <em v-if=\"user.username\" style=\"color: #fff\">\n                    {{ user.username }}\n                  </em>\n                  <em v-if=\"!user.username\" style=\"color: #fff\">\n                    {{ user.firstName }} {{ user.lastName }}\n                  </em>\n                </template>\n                <b-dropdown-item v-if=\"admin\" to=\"/admin\">\n                  Admin Panel\n                </b-dropdown-item>\n                <b-dropdown-item to=\"/profile\">Profile</b-dropdown-item>\n                <b-dropdown-item @click=\"logout()\">Log Out</b-dropdown-item>\n              </b-nav-item-dropdown>\n              <vs-button\n              dark\n              shadow\n              to=\"/register\"\n              v-if=\"!userLoggedIn\"\n              :active=\"active == 4\"\n              @click=\"active = 4\"\n              >Inscription\n            </vs-button>\n              <vs-button\n              v-if=\"!userLoggedIn\"\n              to=\"/login\"\n              dark\n              shadow\n              :active=\"active == 4\"\n              @click=\"active = 4\"\n            >\n              Connexion\n            </vs-button>\n            </b-navbar-nav>\n          </b-collapse>\n        </b-navbar>\n      </b-col>\n    </b-row>\n    <hr class=\"m-0\" style=\"background-color: #000\" />\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nexport default {\n  name: \"TopHeader\",\n  data() {\n    return {\n      colors: [\n          {\n            color: 'danger',\n            value: '1'\n          },\n        ],\n        active: 'home',\n      activeSidebar: false,\n      user: {},\n      admin: false,\n      companyLogo: \"\",\n      userLoggedIn: false,\n      categoryList: [],\n      searchTxt: \"\",\n      searchCategoryId: 0,\n      searchCategoryName: \"All Category\"\n    };\n  },\n  async mounted() {\n    this.companyLogo = await this.$store.dispatch(\"Company/getCompanyLogo\");\n    this.user = this.$store.state.CurrentUser.user;\n    this.admin = this.$store.state.CurrentUser.admin;\n    this.userLoggedIn = this.$store.state.CurrentUser.userLoggedIn;\n    this.categoryList = await this.$store.dispatch(\"Category/getCategoryList\");\n  },\n  computed: {},\n  methods: {\n    wishlist() {\n      if (!this.userLoggedIn) {\n        this.$bvToast.toast(\"Please login for the wishlist\", {\n          title: \"Wishlist\",\n          variant: \"primary\",\n          toaster: \"b-toaster-top-center\",\n          noCloseButton: false,\n          solid: true\n        });\n      } else {\n        this.$router.push({ path: \"/wishlist\" });\n      }\n    },\n    async logout() {\n      this.$store.dispatch(\"CurrentUser/setToken\", \"\");\n      this.$store.dispatch(\"CurrentUser/setUser\", {});\n      this.$store.dispatch(\"Wishlist/clearWishlist\");\n      window.location.reload();\n    },\n    set_category(category) {\n      this.searchCategoryId = category.id;\n      this.searchCategoryName = category.name;\n    },\n    search() {\n      var newRoute = \"/products\";\n      if (this.searchCategoryId != 0) {\n        const category = this.searchCategoryName;\n        newRoute += \"/\" + category;\n      }\n      if (this.searchTxt != \"\") {\n        const text = this.searchTxt;\n        newRoute += \"?q=\" + text;\n        this.$router.push({ path: newRoute });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\"></style>\n"]}]}