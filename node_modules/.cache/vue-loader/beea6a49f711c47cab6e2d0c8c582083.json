{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\views\\Admin\\AddProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\views\\Admin\\AddProduct.vue","mtime":1668160580752},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053078023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBQcm9kdWN0c1NlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9Qcm9kdWN0c1NlcnZpY2UuanMiOwppbXBvcnQgQ2F0ZWdvcnlTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvQ2F0ZWdvcnlTZXJ2aWNlLmpzIjsKaW1wb3J0IFN1YkNhdGVnb3J5U2VydmljZSBmcm9tICJAL3NlcnZpY2VzL1N1YkNhdGVnb3J5U2VydmljZS5qcyI7CmltcG9ydCBTdWJTdWJDYXRlZ29yeVNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9TdWJTdWJDYXRlZ29yeVNlcnZpY2UuanMiOwppbXBvcnQgQVRvcEhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvQWRtaW5zL0FUb3BIZWFkZXIudnVlIjsKaW1wb3J0IEZvb3RlciBmcm9tICJAL2NvbXBvbmVudHMvQ29tbW9uL0Zvb3Rlci52dWUiOwppbXBvcnQgeyBWdWVFZGl0b3IgfSBmcm9tICJ2dWUyLWVkaXRvciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRkUHJvZHVjdCIsCiAgY29tcG9uZW50czogewogICAgQVRvcEhlYWRlciwKICAgIFZ1ZUVkaXRvciwKICAgIEZvb3RlcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltYWdlczogW10sCiAgICAgIG5ld0NhdGVnb3J5TmFtZTogIiIsCiAgICAgIG5ld1N1YkNhdGVnb3J5TmFtZTogIiIsCiAgICAgIG5ld1N1YlN1YkNhdGVnb3J5TmFtZTogIiIsCiAgICAgIGNhdGVnb3J5TGlzdDogW10sCiAgICAgIHN1YkNhdGVnb3J5TGlzdDogW10sCiAgICAgIHN1YlN1YkNhdGVnb3J5TGlzdDogW10sCiAgICAgIHByb2R1Y3RDYXRlZ29yeU1lc3NhZ2U6ICJDaG9pc2lzc2V6IHVuZSBjYXRlZ29yaWUuIiwKICAgICAgcHJvZHVjdENhdGVnb3J5QWxlcnQ6IGZhbHNlLAogICAgICBwcm9kdWN0U3ViVGl0bGVNZXNzYWdlOiAiQWpvdXRlciB1biB0ZXh0IGRhbnMgY2UgY2hhbXBzLiIsCiAgICAgIHByb2R1Y3RTdWJUaXRsZUFsZXJ0OiBmYWxzZSwKICAgICAgcHJvZHVjdERlc2NyaXB0aW9uTWVzc2FnZTogIkFqb3V0ZXIgbGEgZGVzY3JpcHRpb24gZHUgcHJvZHVpdC4iLAogICAgICBwcm9kdWN0RGVzY3JpcHRpb25BbGVydDogZmFsc2UsCiAgICAgIHNlbGVjdGVkQ2F0ZWdvcnk6ICJDYXRlZ29yaWUgIiwKICAgICAgc2VsZWN0ZWRTdWJDYXRlZ29yeTogIlNvdXMtY2F0ZWdvcmllICIsCiAgICAgIHNlbGVjdGVkU3ViU3ViQ2F0ZWdvcnk6ICItLS0+IFNTLWNhdGVnb3JpZSAiLAogICAgICBiYWNrdXBQcm9kdWN0OiBudWxsLAogICAgICBwcm9kdWN0OiB7CiAgICAgICAgY29kZTogIiIsCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIGFtb3VudDogbnVsbCwKICAgICAgICBzYWxlczogMCwKICAgICAgICBzdWJ0aXRsZTogIiIsCiAgICAgICAgcmF0aW5nOiAwLAogICAgICAgIHBlb3BsZVJhdGVkOiAwLAogICAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgICBjdXJyZW5jeTogIkZjZmEiLAogICAgICAgIENhdGVnb3J5SWQ6IDAsCiAgICAgICAgU3ViQ2F0ZWdvcnlJZDogMCwKICAgICAgICBTdWJTdWJDYXRlZ29yeUlkOiAwCiAgICAgIH0sCiAgICAgIGVycm9yQ291bnRJbWFnZToKICAgICAgICAiVm91cyBuJ8OqdGVzIHBhcyBhdXRvcmlzw6kgw6AgYWpvdXRlciBwbHVzIGRlIDEwIGltYWdlcyBwb3VyIHVuIHByb2R1aXQuIiwKICAgICAgbWF4aW11bUltYWdlQ291bnQ6IDEwLAogICAgICBpbWFnZUFsZXJ0OiBmYWxzZSwKICAgICAgZGlzcEltZzogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIHRoaXMuYmFja3VwUHJvZHVjdCA9IHRoaXMucHJvZHVjdDsKICAgIHRoaXMuY2F0ZWdvcnlMaXN0ID0gKAogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ2F0ZWdvcnkvZ2V0Q2F0ZWdvcnlMaXN0IikKICAgICkuc2xpY2UoKTsKCiAgICB0aGlzLnN1YkNhdGVnb3J5TGlzdCA9ICgKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIkNhdGVnb3J5L2dldFN1YkNhdGVnb3J5TGlzdCIpCiAgICApLnNsaWNlKCk7CgogICAgdGhpcy5zdWJTdWJDYXRlZ29yeUxpc3QgPSAoCiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJDYXRlZ29yeS9nZXRTdWJTdWJDYXRlZ29yeUxpc3QiKQogICAgKS5zbGljZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXRQcm9kdWN0KCkgewogICAgICB0aGlzLnByb2R1Y3QgPSB0aGlzLmJhY2t1cFByb2R1Y3Q7CiAgICB9LAogICAgYXN5bmMgY3JlYXRlTmV3UHJvZHVjdCgpIHsKICAgICAgaWYgKAogICAgICAgIHRoaXMucHJvZHVjdC5DYXRlZ29yeUlkID09IDAgfHwKICAgICAgICB0aGlzLnByb2R1Y3QuU3ViQ2F0ZWdvcnlJZCA9PSAwIHx8CiAgICAgICAgdGhpcy5wcm9kdWN0LlN1YlN1YkNhdGVnb3J5SWQgPT0gMAogICAgICApIHsKICAgICAgICB0aGlzLnByb2R1Y3RDYXRlZ29yeUFsZXJ0ID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9kdWN0LnN1YnRpdGxlID09ICIiKSB7CiAgICAgICAgdGhpcy5wcm9kdWN0U3ViVGl0bGVBbGVydCA9IHRydWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRoaXMucHJvZHVjdC5kZXNjcmlwdGlvbiA9PSAiIikgewogICAgICAgIHRoaXMucHJvZHVjdFN1YlRpdGxlQWxlcnQgPSBmYWxzZTsKICAgICAgICB0aGlzLnByb2R1Y3REZXNjcmlwdGlvbkFsZXJ0ID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5wcm9kdWN0LnN1YnRpdGxlID0gdGhpcy5wcm9kdWN0LnN1YnRpdGxlLnJlcGxhY2UoCiAgICAgICAgLzxwPjxicj48XC9wPi9nLAogICAgICAgICIiCiAgICAgICk7CiAgICAgIHRoaXMucHJvZHVjdC5kZXNjcmlwdGlvbiA9IHRoaXMucHJvZHVjdC5kZXNjcmlwdGlvbi5yZXBsYWNlKAogICAgICAgIC88cD48YnI+PFwvcD4vZywKICAgICAgICAiIgogICAgICApOwogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgdmFyIGZpZWxkTmFtZTsKICAgICAgZm9yIChmaWVsZE5hbWUgaW4gdGhpcy5wcm9kdWN0KSB7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKGZpZWxkTmFtZSwgdGhpcy5wcm9kdWN0W2ZpZWxkTmFtZV0pOwogICAgICB9CiAgICAgIHZhciBpOwogICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5pbWFnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoaSA8IHRoaXMubWF4aW11bUltYWdlQ291bnQpCiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImltYWdlRmllbGQiLCB0aGlzLmltYWdlc1tpXSk7CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBuZXdQcm9kdWN0ID0gKGF3YWl0IFByb2R1Y3RzU2VydmljZS5jcmVhdGVQcm9kdWN0KGZvcm1EYXRhKSkuZGF0YTsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiUHJvZHVjdHMvc2V0QWxsQmFja3VwUHJvZHVjdHMiKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IGAvcHJvZHVjdC8ke25ld1Byb2R1Y3QuaWR9YCB9KTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGNyZWF0ZU5ld0NhdGVnKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IG5ld0NhdGVnb3J5ID0gKAogICAgICAgICAgYXdhaXQgQ2F0ZWdvcnlTZXJ2aWNlLmNyZWF0ZUNhdGVnb3J5KHsgbmFtZTogdGhpcy5uZXdDYXRlZ29yeU5hbWUgfSkKICAgICAgICApLmRhdGE7CiAgICAgICAgdGhpcy5uZXdDYXRlZ29yeU5hbWUgPSAiIjsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ2F0ZWdvcnkvc2V0Q2F0ZWdvcnlMaXN0Iik7CiAgICAgICAgdGhpcy5jYXRlZ29yeUxpc3QucHVzaChuZXdDYXRlZ29yeSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBjcmVhdGVOZXdTdWJDYXRlZygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBuZXdTdWJDYXRlZ29yeSA9ICgKICAgICAgICAgIGF3YWl0IFN1YkNhdGVnb3J5U2VydmljZS5jcmVhdGVTdWJDYXRlZ29yeSh7CiAgICAgICAgICAgIG5hbWU6IHRoaXMubmV3U3ViQ2F0ZWdvcnlOYW1lLAogICAgICAgICAgICBDYXRlZ29yeUlkOiB0aGlzLnByb2R1Y3QuQ2F0ZWdvcnlJZAogICAgICAgICAgfSkKICAgICAgICApLmRhdGE7CiAgICAgICAgdGhpcy5uZXdTdWJDYXRlZ29yeU5hbWUgPSAiIjsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ2F0ZWdvcnkvc2V0U3ViQ2F0ZWdvcnlMaXN0Iik7CiAgICAgICAgdGhpcy5zdWJDYXRlZ29yeUxpc3QucHVzaChuZXdTdWJDYXRlZ29yeSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBjcmVhdGVOZXdTdWJTdWJDYXRlZygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBuZXdTdWJTdWJDYXRlZ29yeSA9ICgKICAgICAgICAgIGF3YWl0IFN1YlN1YkNhdGVnb3J5U2VydmljZS5jcmVhdGVTdWJTdWJDYXRlZ29yeSh7CiAgICAgICAgICAgIG5hbWU6IHRoaXMubmV3U3ViU3ViQ2F0ZWdvcnlOYW1lLAogICAgICAgICAgICBTdWJDYXRlZ29yeUlkOiB0aGlzLnByb2R1Y3QuU3ViQ2F0ZWdvcnlJZAogICAgICAgICAgfSkKICAgICAgICApLmRhdGE7CiAgICAgICAgdGhpcy5uZXdTdWJTdWJDYXRlZ29yeU5hbWUgPSAiIjsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ2F0ZWdvcnkvc2V0U3ViU3ViQ2F0ZWdvcnlMaXN0Iik7CiAgICAgICAgdGhpcy5zdWJTdWJDYXRlZ29yeUxpc3QucHVzaChuZXdTdWJTdWJDYXRlZ29yeSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBzZXRfY2F0ZWdvcnkoY2F0ZWdvcnkpIHsKICAgICAgdGhpcy5zZWxlY3RlZENhdGVnb3J5ID0gY2F0ZWdvcnkubmFtZTsKICAgICAgdGhpcy5zZWxlY3RlZFN1YkNhdGVnb3J5ID0gIlN1YiBDYXRlZ29yeSI7CiAgICAgIHRoaXMuc2VsZWN0ZWRTdWJTdWJDYXRlZ29yeSA9ICJTdWIgU3ViIENhdGVnb3J5IjsKICAgICAgKHRoaXMucHJvZHVjdC5TdWJDYXRlZ29yeUlkID0gMCksCiAgICAgICAgKHRoaXMucHJvZHVjdC5TdWJTdWJDYXRlZ29yeUlkID0gMCksCiAgICAgICAgKHRoaXMucHJvZHVjdC5DYXRlZ29yeUlkID0gY2F0ZWdvcnkuaWQpOwogICAgfSwKICAgIHNldF9zdWJDYXRlZ29yeShzdWJDYXRlZ29yeSkgewogICAgICB0aGlzLnNlbGVjdGVkU3ViQ2F0ZWdvcnkgPSBzdWJDYXRlZ29yeS5uYW1lOwogICAgICB0aGlzLnNlbGVjdGVkU3ViU3ViQ2F0ZWdvcnkgPSAiU3ViIFN1YiBDYXRlZ29yeSI7CiAgICAgIHRoaXMucHJvZHVjdC5TdWJDYXRlZ29yeUlkID0gc3ViQ2F0ZWdvcnkuaWQ7CiAgICAgIHRoaXMucHJvZHVjdC5TdWJTdWJDYXRlZ29yeUlkID0gMDsKICAgIH0sCiAgICBzZXRfc3ViU3ViQ2F0ZWdvcnkoc3ViU3ViQ2F0ZWdvcnkpIHsKICAgICAgdGhpcy5wcm9kdWN0Q2F0ZWdvcnlBbGVydCA9IGZhbHNlOwogICAgICB0aGlzLnNlbGVjdGVkU3ViU3ViQ2F0ZWdvcnkgPSBzdWJTdWJDYXRlZ29yeS5uYW1lOwogICAgICB0aGlzLnByb2R1Y3QuU3ViU3ViQ2F0ZWdvcnlJZCA9IHN1YlN1YkNhdGVnb3J5LmlkOwogICAgfSwKICAgIHNlbGVjdGVkSW1hZ2UoZXZlbnQpIHsKICAgICAgdGhpcy5pbWFnZXMgPSBldmVudC50YXJnZXQuZmlsZXM7CgogICAgICBpZiAodGhpcy5pbWFnZXMubGVuZ3RoID4gdGhpcy5tYXhpbXVtSW1hZ2VDb3VudCkgewogICAgICAgIHRoaXMuaW1hZ2VBbGVydCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbWFnZUFsZXJ0ID0gZmFsc2U7CiAgICAgIH0KICAgICAgdmFyIGk7CgogICAgICB0aGlzLmRpc3BJbWcgPSBbXTsKICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuaW1hZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGkgPCB0aGlzLm1heGltdW1JbWFnZUNvdW50KSB7CiAgICAgICAgICB0aGlzLmRpc3BJbWdbaV0gPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuaW1hZ2VzW2ldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["AddProduct.vue"],"names":[],"mappings":";AA0RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddProduct.vue","sourceRoot":"src/views/Admin","sourcesContent":["<template>\n  <div>\n    <ATopHeader />\n\n    <b-container class=\"mt-4\">\n      <b-card>\n        <b-navbar text-variant=\"white\" variant=\"info\">\n          <b-navbar-brand style=\"color: #fff\">Ajouter un produit</b-navbar-brand>\n        </b-navbar>\n        <b-form\n          @reset=\"resetProduct\"\n          @submit.stop.prevent=\"createNewProduct\"\n          class=\"mt-3\"\n        >\n          <b-row cols=\"1\" cols-md=\"2\">\n            <b-col>\n              <b-form-group\n                id=\"input-group-title\"\n                label=\"Titre\"\n                label-for=\"input-title\"\n              >\n                <b-form-input\n                  id=\"input-title\"\n                  v-model=\"product.title\"\n                  placeholder=\"Entrer le nom du produit\"\n                  required\n                />\n              </b-form-group>\n              <b-row>\n                <b-col>\n                  <b-form-group\n                    id=\"input-group-amount\"\n                    label=\"Prix\"\n                    label-for=\"input-amount\"\n                  >\n                    <b-form-input\n                      id=\"input-amount\"\n                      v-model=\"product.amount\"\n                      placeholder=\"Prix\"\n                      required\n                    />\n                  </b-form-group>\n                </b-col>\n                <b-col>\n                  <b-form-group\n                    id=\"input-group-currency\"\n                    label=\"Devise\"\n                    label-for=\"input-currency\"\n                  >\n                    <b-form-input\n                      id=\"input-currency\"\n                      v-model=\"product.currency\"\n                      readonly\n                      required\n                    />\n                  </b-form-group>\n                </b-col>\n              </b-row>\n              <div>\n                <b-form-group\n                  id=\"input-group-overview\"\n                  label=\"Previsualisation\"\n                  label-for=\"input-overview\"\n                >\n                  <vue-editor\n                    @keyup=\"\n                      productSubTitleAlert ? (productSubTitleAlert = false) : 1\n                    \"\n                    required\n                    id=\"input-overview\"\n                    v-model=\"product.subtitle\"\n                  >\n                  </vue-editor>\n                </b-form-group>\n              </div>\n            </b-col>\n            <b-col>\n              <b-form-group label=\"Choisez les types et categories de produit\">\n                <b-row>\n                  <b-col>\n                    <b-dropdown\n                      id=\"dropdown-category\"\n                      :text=\"selectedCategory\"\n                      variant=\"warning\"\n                      block\n                      menu-class=\"w-100\"\n                    >\n                      <b-dropdown-item\n                        v-for=\"category in categoryList\"\n                        :key=\"category.id\"\n                        @click=\"set_category(category)\"\n                      >\n                        {{ category.name }}\n                      </b-dropdown-item>\n                      <b-dropdown-form @submit.stop.prevent=\"createNewCateg\">\n                        <b-row>\n                          <b-col>\n                            <b-form-input\n                              required\n                              v-model=\"newCategoryName\"\n                              placeholder=\"Catégories\"\n                            />\n                          </b-col>\n                          <b-col>\n                            <b-button type=\"submit\" block variant=\"warning\">\n                              Créer\n                            </b-button>\n                          </b-col>\n                        </b-row>\n                      </b-dropdown-form>\n                    </b-dropdown>\n                  </b-col>\n                </b-row>\n                <b-row class=\"mt-4\">\n                  <b-col>\n                    <b-dropdown\n                      id=\"dropdown-subCategory\"\n                      :text=\"selectedSubCategory\"\n                      variant=\"warning\"\n                      block\n                      menu-class=\"w-100\"\n                      :disabled=\"product.CategoryId == 0\"\n                    >\n                      <div\n                        v-for=\"subCategory in subCategoryList\"\n                        :key=\"subCategory.id\"\n                      >\n                        <b-dropdown-item\n                          v-if=\"product.CategoryId == subCategory.CategoryId\"\n                          @click=\"set_subCategory(subCategory)\"\n                        >\n                          {{ subCategory.name }}\n                        </b-dropdown-item>\n                      </div>\n                      <b-dropdown-form @submit.stop.prevent=\"createNewSubCateg\">\n                        <b-row>\n                          <b-col>\n                            <b-form-input\n                              required\n                              v-model=\"newSubCategoryName\"\n                              placeholder=\"Categorie\"\n                            />\n                          </b-col>\n                          <b-col>\n                            <b-button type=\"submit\" block variant=\"warning\">\n                              Créer\n                            </b-button>\n                          </b-col>\n                        </b-row>\n                      </b-dropdown-form>\n                    </b-dropdown>\n                  </b-col>\n                </b-row>\n                <b-row class=\"mt-4\">\n                  <b-col>\n                    <b-dropdown\n                      id=\"dropdown-subSubCategory\"\n                      :text=\"selectedSubSubCategory\"\n                      variant=\"warning\"\n                      block\n                      menu-class=\"w-100\"\n                      :disabled=\"product.SubCategoryId == 0\"\n                    >\n                      <div\n                        v-for=\"subSubCategory in subSubCategoryList\"\n                        :key=\"subSubCategory.id\"\n                      >\n                        <b-dropdown-item\n                          v-if=\"\n                            product.SubCategoryId ==\n                              subSubCategory.SubCategoryId\n                          \"\n                          @click=\"set_subSubCategory(subSubCategory)\"\n                        >\n                          {{ subSubCategory.name }}\n                        </b-dropdown-item>\n                      </div>\n                      <b-dropdown-form\n                        @submit.stop.prevent=\"createNewSubSubCateg\"\n                      >\n                        <b-row>\n                          <b-col>\n                            <b-form-input\n                              required\n                              v-model=\"newSubSubCategoryName\"\n                              placeholder=\"Categorie\"\n                            />\n                          </b-col>\n                          <b-col>\n                            <b-button type=\"submit\" block variant=\"warning\">\n                              Créer\n                            </b-button>\n                          </b-col>\n                        </b-row>\n                      </b-dropdown-form>\n                    </b-dropdown>\n                  </b-col>\n                </b-row>\n              </b-form-group>\n              <b-form-group\n                id=\"choisissez des images à votre produit\"\n                label=\"Product Images\"\n                label-for=\"input-images\"\n              >\n                <b-form-file\n                  id=\"input-images\"\n                  placeholder=\"maximum 10 images\"\n                  required\n                  multiple\n                  @change=\"selectedImage\"\n                />\n              </b-form-group>\n              <b-alert variant=\"warning\" class=\"mt-2\" :show=\"imageAlert\">\n                {{ errorCountImage }}\n              </b-alert>\n              <div id=\"preview\">\n                <b-row class=\"mt-2\">\n                  <b-col cols=\"3\" v-for=\"(img, index) in dispImg\" :key=\"index\">\n                    {{ index + 1 }}\n                    <b-img :src=\"img\" width=\"100%\" />\n                  </b-col>\n                </b-row>\n              </div>\n            </b-col>\n          </b-row>\n          <hr />\n          <b-row>\n            <b-col>\n              <div>\n                <b-form-group\n                  id=\"input-group-description\"\n                  label=\"Description\"\n                  label-for=\"input-description\"\n                >\n                  <vue-editor\n                    @keyup=\"\n                      productDescriptionAlert\n                        ? (productDescriptionAlert = false)\n                        : 1\n                    \"\n                    required\n                    id=\"input-description\"\n                    v-model=\"product.description\"\n                  >\n                  </vue-editor>\n                </b-form-group>\n              </div>\n            </b-col>\n          </b-row>\n          <b-alert variant=\"warning\" :show=\"productCategoryAlert\">\n            {{ productCategoryMessage }}\n          </b-alert>\n          <b-alert variant=\"warning\" :show=\"productSubTitleAlert\">\n            {{ productSubTitleMessage }}\n          </b-alert>\n          <b-alert variant=\"warning\" :show=\"productDescriptionAlert\">\n            {{ productDescriptionMessage }}\n          </b-alert>\n\n          <b-row>\n            <b-col cols=\"7\"></b-col>\n            <b-col cols=\"5\">\n              <b-row>\n                <b-col>\n                  <b-button type=\"reset\" variant=\"danger\" block>Vider</b-button>\n                </b-col>\n                <b-col>\n                  <b-button variant=\"primary\" block type=\"submit\">\n                    Créer\n                  </b-button>\n                </b-col>\n              </b-row>\n            </b-col>\n          </b-row>\n        </b-form>\n      </b-card>\n    </b-container>\n    <Footer class=\"mt-5\" />\n  </div>\n</template>\n\n<script>\nimport ProductsService from \"@/services/ProductsService.js\";\nimport CategoryService from \"@/services/CategoryService.js\";\nimport SubCategoryService from \"@/services/SubCategoryService.js\";\nimport SubSubCategoryService from \"@/services/SubSubCategoryService.js\";\nimport ATopHeader from \"@/components/Admins/ATopHeader.vue\";\nimport Footer from \"@/components/Common/Footer.vue\";\nimport { VueEditor } from \"vue2-editor\";\nexport default {\n  name: \"AddProduct\",\n  components: {\n    ATopHeader,\n    VueEditor,\n    Footer\n  },\n  data() {\n    return {\n      images: [],\n      newCategoryName: \"\",\n      newSubCategoryName: \"\",\n      newSubSubCategoryName: \"\",\n      categoryList: [],\n      subCategoryList: [],\n      subSubCategoryList: [],\n      productCategoryMessage: \"Choisissez une categorie.\",\n      productCategoryAlert: false,\n      productSubTitleMessage: \"Ajouter un text dans ce champs.\",\n      productSubTitleAlert: false,\n      productDescriptionMessage: \"Ajouter la description du produit.\",\n      productDescriptionAlert: false,\n      selectedCategory: \"Categorie \",\n      selectedSubCategory: \"Sous-categorie \",\n      selectedSubSubCategory: \"---> SS-categorie \",\n      backupProduct: null,\n      product: {\n        code: \"\",\n        title: \"\",\n        amount: null,\n        sales: 0,\n        subtitle: \"\",\n        rating: 0,\n        peopleRated: 0,\n        description: \"\",\n        currency: \"Fcfa\",\n        CategoryId: 0,\n        SubCategoryId: 0,\n        SubSubCategoryId: 0\n      },\n      errorCountImage:\n        \"Vous n'êtes pas autorisé à ajouter plus de 10 images pour un produit.\",\n      maximumImageCount: 10,\n      imageAlert: false,\n      dispImg: []\n    };\n  },\n  computed: {},\n  async mounted() {\n    this.backupProduct = this.product;\n    this.categoryList = (\n      await this.$store.dispatch(\"Category/getCategoryList\")\n    ).slice();\n\n    this.subCategoryList = (\n      await this.$store.dispatch(\"Category/getSubCategoryList\")\n    ).slice();\n\n    this.subSubCategoryList = (\n      await this.$store.dispatch(\"Category/getSubSubCategoryList\")\n    ).slice();\n  },\n  methods: {\n    resetProduct() {\n      this.product = this.backupProduct;\n    },\n    async createNewProduct() {\n      if (\n        this.product.CategoryId == 0 ||\n        this.product.SubCategoryId == 0 ||\n        this.product.SubSubCategoryId == 0\n      ) {\n        this.productCategoryAlert = true;\n        return;\n      } else if (this.product.subtitle == \"\") {\n        this.productSubTitleAlert = true;\n        return;\n      } else if (this.product.description == \"\") {\n        this.productSubTitleAlert = false;\n        this.productDescriptionAlert = true;\n        return;\n      }\n      this.product.subtitle = this.product.subtitle.replace(\n        /<p><br><\\/p>/g,\n        \"\"\n      );\n      this.product.description = this.product.description.replace(\n        /<p><br><\\/p>/g,\n        \"\"\n      );\n      var formData = new FormData();\n      var fieldName;\n      for (fieldName in this.product) {\n        formData.append(fieldName, this.product[fieldName]);\n      }\n      var i;\n      for (i = 0; i < this.images.length; i++) {\n        if (i < this.maximumImageCount)\n          formData.append(\"imageField\", this.images[i]);\n      }\n      try {\n        const newProduct = (await ProductsService.createProduct(formData)).data;\n        await this.$store.dispatch(\"Products/setAllBackupProducts\");\n        this.$router.push({ path: `/product/${newProduct.id}` });\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    },\n    async createNewCateg() {\n      try {\n        const newCategory = (\n          await CategoryService.createCategory({ name: this.newCategoryName })\n        ).data;\n        this.newCategoryName = \"\";\n        await this.$store.dispatch(\"Category/setCategoryList\");\n        this.categoryList.push(newCategory);\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    },\n    async createNewSubCateg() {\n      try {\n        const newSubCategory = (\n          await SubCategoryService.createSubCategory({\n            name: this.newSubCategoryName,\n            CategoryId: this.product.CategoryId\n          })\n        ).data;\n        this.newSubCategoryName = \"\";\n        await this.$store.dispatch(\"Category/setSubCategoryList\");\n        this.subCategoryList.push(newSubCategory);\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    },\n    async createNewSubSubCateg() {\n      try {\n        const newSubSubCategory = (\n          await SubSubCategoryService.createSubSubCategory({\n            name: this.newSubSubCategoryName,\n            SubCategoryId: this.product.SubCategoryId\n          })\n        ).data;\n        this.newSubSubCategoryName = \"\";\n        await this.$store.dispatch(\"Category/setSubSubCategoryList\");\n        this.subSubCategoryList.push(newSubSubCategory);\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    },\n    set_category(category) {\n      this.selectedCategory = category.name;\n      this.selectedSubCategory = \"Sub Category\";\n      this.selectedSubSubCategory = \"Sub Sub Category\";\n      (this.product.SubCategoryId = 0),\n        (this.product.SubSubCategoryId = 0),\n        (this.product.CategoryId = category.id);\n    },\n    set_subCategory(subCategory) {\n      this.selectedSubCategory = subCategory.name;\n      this.selectedSubSubCategory = \"Sub Sub Category\";\n      this.product.SubCategoryId = subCategory.id;\n      this.product.SubSubCategoryId = 0;\n    },\n    set_subSubCategory(subSubCategory) {\n      this.productCategoryAlert = false;\n      this.selectedSubSubCategory = subSubCategory.name;\n      this.product.SubSubCategoryId = subSubCategory.id;\n    },\n    selectedImage(event) {\n      this.images = event.target.files;\n\n      if (this.images.length > this.maximumImageCount) {\n        this.imageAlert = true;\n      } else {\n        this.imageAlert = false;\n      }\n      var i;\n\n      this.dispImg = [];\n      for (i = 0; i < this.images.length; i++) {\n        if (i < this.maximumImageCount) {\n          this.dispImg[i] = URL.createObjectURL(this.images[i]);\n        }\n      }\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped></style>\n"]}]}