{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\views\\UsersProduct\\CartView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\views\\UsersProduct\\CartView.vue","mtime":1668163406880},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053078023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBUb3BIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL0NvbW1vbi9Ub3BIZWFkZXIudnVlIjsKaW1wb3J0IEFkZFRvV2lzaGxpc3QgZnJvbSAiQC9jb21wb25lbnRzL01haW50YWluUHJvZHVjdC9BZGRUb1dpc2hsaXN0LnZ1ZSI7CmltcG9ydCBGb290ZXIgZnJvbSAiQC9jb21wb25lbnRzL0NvbW1vbi9Gb290ZXIudnVlIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNeUNhcnQiLAogIGNvbXBvbmVudHM6IHsKICAgIFRvcEhlYWRlciwKICAgIEFkZFRvV2lzaGxpc3QsCiAgICBGb290ZXIKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZEN1cnJlbmN5OiAiVVNEIgogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7fSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICBjYXJ0UHJvZHVjdHM6IHN0YXRlID0+IHN0YXRlLkNhcnQuY2FydFByb2R1Y3RzCiAgICB9KSwKICAgIGNhcnRJdGVtQ291bnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmNhcnRQcm9kdWN0cy5sZW5ndGg7CiAgICB9LAogICAgdG90YWxBbW91bnQoKSB7CiAgICAgIHZhciBpLAogICAgICAgIGFtb3VudCA9IDA7CiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmNhcnRQcm9kdWN0cy5sZW5ndGg7IGkrKykgewogICAgICAgIGFtb3VudCArPSB0aGlzLmNhcnRQcm9kdWN0c1tpXS5hbW91bnQgKiB0aGlzLmNhcnRQcm9kdWN0c1tpXS5xdWFudGl0eTsKICAgICAgfQogICAgICByZXR1cm4gYW1vdW50OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgcXVhbnRpdHlJbmMocHJvZHVjdCkgewogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ2FydC91cGRhdGVDYXJ0SXRlbVF1YW50aXR5IiwgewogICAgICAgIHByb2R1Y3RJZDogcHJvZHVjdC5wcm9kdWN0SWQsCiAgICAgICAgcXVhbnRpdHk6IHByb2R1Y3QucXVhbnRpdHkgKyAxCiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIHF1YW50aXR5RGVjKHByb2R1Y3QpIHsKICAgICAgaWYgKHByb2R1Y3QucXVhbnRpdHkgPiAxKSB7CiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIkNhcnQvdXBkYXRlQ2FydEl0ZW1RdWFudGl0eSIsIHsKICAgICAgICAgIHByb2R1Y3RJZDogcHJvZHVjdC5wcm9kdWN0SWQsCiAgICAgICAgICBxdWFudGl0eTogcHJvZHVjdC5xdWFudGl0eSAtIDEKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHJlbW92ZUNhcnRJdGVtKHByb2R1Y3QpIHsKICAgICAgY29uc3QgaXRlbUluZGV4ID0gYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goCiAgICAgICAgIkNhcnQvcmVtb3ZlQ2FydEl0ZW0iLAogICAgICAgIHByb2R1Y3QucHJvZHVjdElkCiAgICAgICk7CiAgICAgIGlmIChpdGVtSW5kZXggPT0gLTEpIHsKICAgICAgICB0aGlzLiRidlRvYXN0LnRvYXN0KCJQcm9kdWN0IHJlbW92ZWQgZnJvbSBjYXJ0IiwgewogICAgICAgICAgdGl0bGU6ICJDYXJ0IiwKICAgICAgICAgIHZhcmlhbnQ6ICJzdWNjZXNzIiwKICAgICAgICAgIHRvYXN0ZXI6ICJiLXRvYXN0ZXItdG9wLWNlbnRlciIsCiAgICAgICAgICBub0Nsb3NlQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHNvbGlkOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["CartView.vue"],"names":[],"mappings":";AAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CartView.vue","sourceRoot":"src/views/UsersProduct","sourcesContent":["<template>\n  <div>\n    <TopHeader></TopHeader>\n    <b-container class=\"mt-3\">\n      <b-row>\n        <b-col class=\"text-center\">\n          <h2>Panier</h2>\n          <hr />\n        </b-col>\n      </b-row>\n      <b-row v-if=\"cartItemCount == 0\">\n        <b-col>\n          Votre panier est vide !!\n          <hr />\n        </b-col>\n      </b-row>\n      <div v-if=\"cartItemCount != 0\">\n        <b-row>\n          <b-col cols=\"3\" />\n          <b-col cols=\"3\">\n            <strong>Article</strong>\n          </b-col>\n          <b-col cols=\"2\">\n            <strong>Prix</strong>\n          </b-col>\n          <b-col cols=\"4\">\n            <strong>Quantit√©</strong>\n          </b-col>\n        </b-row>\n        <hr />\n      </div>\n      <div v-for=\"product in cartProducts\" :key=\"product.productId\">\n        <b-row>\n          <b-col cols=\"3\" class=\"text-center\">\n            <b-img style=\"max-width:66%\" :src=\"product.image\" alt=\"No Image\" />\n          </b-col>\n          <b-col cols=\"3\">\n            <b-link :to=\"`/product/${product.productId}`\">\n              {{ product.title }}\n            </b-link>\n            <b-row class=\"mt-2\" align-v=\"center\">\n              <b-col>\n                <!-- <b-form-rating\n                  :precision=\"\n                    Math.round(product.rating) == product.rating ? 0 : 1\n                  \"\n                  size=\"sm\"\n                  readonly\n                  show-value\n                  show-value-max\n                  :value=\"product.rating\"\n                  variant=\"primary\"\n                /> -->\n              </b-col>\n            </b-row>\n            <AddToWishlist\n              class=\"mt-2\"\n              addButtonTitle=\"Ajouter aux avoris\"\n              addedButtonTitle=\"Mon favoris\"\n              buttonType=\"sm\"\n              :productId=\"product.productId\"\n            />\n          </b-col>\n          <b-col cols=\"2\">\n            {{ product.amount * product.quantity }} Fcfa\n            <!-- {{ product.currency }} -->\n            </b-col\n          >\n          <b-col cols=\"4\">\n            <div>\n              <b-button\n                size=\"sm\"\n                variant=\"primary\"\n                @click=\"quantityInc(product)\"\n                >+\n              </b-button>\n              <a class=\"ml-4\">{{ product.quantity }}</a>\n              <b-button\n                size=\"sm\"\n                variant=\"warning\"\n                class=\"ml-4\"\n                @click=\"quantityDec(product)\"\n                >-\n              </b-button>\n              <b-button\n                size=\"sm\"\n                class=\"ml-5\"\n                @click=\"removeCartItem(product)\"\n                variant=\"danger\"\n              >\n                Supprimer l'article\n              </b-button>\n            </div>\n          </b-col>\n        </b-row>\n        <hr />\n      </div>\n      <div v-if=\"cartItemCount != 0\">\n        <b-row class=\"mb-3\">\n          <b-col cols=\"10\" />\n          <b-col cols=\"2\">\n            <b-card>\n              <b-card-title>Totale</b-card-title>\n              <b-card-text\n                >{{ totalAmount }}  Fcfa\n                <!-- {{ selectedCurrency }} -->\n                </b-card-text\n              >\n            </b-card>\n          </b-col>\n        </b-row>\n        <b-row>\n          <b-col cols=\"2\">\n            <b-button block variant=\"info\" to=\"/products\">\n              <span style=\"color: white;\">\n                Ajouter plus\n              </span>\n            </b-button>\n          </b-col>\n          <b-col cols=\"6\" />\n          <b-col cols=\"4\">\n            <b-button block variant=\"primary\" to=\"/checkout\" >\n              <b-icon icon=\"cursor-fill\" />\n              <span style=\"color: white;\">     Commander</span>\n            </b-button>\n          </b-col>\n        </b-row>\n      </div>\n    </b-container>\n    <Footer class=\"mt-5\" />\n  </div>\n</template>\n\n<script>\nimport TopHeader from \"@/components/Common/TopHeader.vue\";\nimport AddToWishlist from \"@/components/MaintainProduct/AddToWishlist.vue\";\nimport Footer from \"@/components/Common/Footer.vue\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"MyCart\",\n  components: {\n    TopHeader,\n    AddToWishlist,\n    Footer\n  },\n  data() {\n    return {\n      selectedCurrency: \"USD\"\n    };\n  },\n  mounted() {},\n  computed: {\n    ...mapState({\n      cartProducts: state => state.Cart.cartProducts\n    }),\n    cartItemCount() {\n      return this.cartProducts.length;\n    },\n    totalAmount() {\n      var i,\n        amount = 0;\n      for (i = 0; i < this.cartProducts.length; i++) {\n        amount += this.cartProducts[i].amount * this.cartProducts[i].quantity;\n      }\n      return amount;\n    }\n  },\n  methods: {\n    async quantityInc(product) {\n      await this.$store.dispatch(\"Cart/updateCartItemQuantity\", {\n        productId: product.productId,\n        quantity: product.quantity + 1\n      });\n    },\n    async quantityDec(product) {\n      if (product.quantity > 1) {\n        await this.$store.dispatch(\"Cart/updateCartItemQuantity\", {\n          productId: product.productId,\n          quantity: product.quantity - 1\n        });\n      }\n    },\n    async removeCartItem(product) {\n      const itemIndex = await this.$store.dispatch(\n        \"Cart/removeCartItem\",\n        product.productId\n      );\n      if (itemIndex == -1) {\n        this.$bvToast.toast(\"Product removed from cart\", {\n          title: \"Cart\",\n          variant: \"success\",\n          toaster: \"b-toaster-top-center\",\n          noCloseButton: false,\n          solid: true\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\"></style>\n"]}]}