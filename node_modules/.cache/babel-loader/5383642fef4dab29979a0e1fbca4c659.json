{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\src\\views\\PayMoney\\SuccessPayment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\src\\views\\PayMoney\\SuccessPayment.vue","mtime":1668175644839},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\babel.config.js","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Desktop\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053078023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFRvcEhlYWRlciBmcm9tICJAL2NvbXBvbmVudHMvQ29tbW9uL1RvcEhlYWRlci52dWUiOwppbXBvcnQgRm9vdGVyIGZyb20gIkAvY29tcG9uZW50cy9Db21tb24vRm9vdGVyLnZ1ZSI7CmltcG9ydCB7IGpzUERGIH0gZnJvbSAianNwZGYiOwovLyBpbXBvcnQgQ2hlY2tvdXRTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvQ2hlY2tvdXRTZXJ2aWNlLmpzIjsKLy8gaW1wb3J0IE9yZGVyU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL09yZGVyU2VydmljZS5qcyI7Ci8vIGltcG9ydCBPcmRlckl0ZW1TZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvT3JkZXJJdGVtU2VydmljZS5qcyI7Ci8vIGltcG9ydCBQcm9kdWN0c1NlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9Qcm9kdWN0c1NlcnZpY2UuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlN1Y2Nlc3NQYXltZW50IiwKICBjb21wb25lbnRzOiB7CiAgICBUb3BIZWFkZXIsCiAgICBGb290ZXIKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBvcmRlcjoge30sCiAgICAgIC8vIHNlc3Npb246IHt9LAogICAgICAvLyB2YWxpZFNlc3Npb246IGZhbHNlCiAgICAgIGhlYWRpbmc6ICJGYWN0dXJlIGRlICBjb21tYW5kZSBPZXVmIGQnb3IiCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHt9LAogIGNyZWF0ZWQoKSB7CiAgICBjb25zdCBmYWN0dXJlSW5mbyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImVsbXRGYWN0dXJlIikpOwogICAgY29uc29sZS5sb2coZmFjdHVyZUluZm8pOwogIH0sCiAgLy8gYXN5bmMgbW91bnRlZCgpIHsKICAvLyAgIC8vIGNvbnN0IHNlc3Npb25JZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOwogIC8vICAgY29uc3Qgc2Vzc2lvbklkID0gMTIzNDU2Nzg5CiAgLy8gICBjb25zb2xlLmxvZyhzZXNzaW9uSWQpOwoKICAvLyAgIHZhciBwcmV2aW91c09yZGVyOwogIC8vICAgdHJ5IHsKICAvLyAgICAgcHJldmlvdXNPcmRlciA9IChhd2FpdCBPcmRlclNlcnZpY2UuZ2V0T3JkZXJCeVNlc3Npb25JZChzZXNzaW9uSWQpKS5kYXRhOwogIC8vICAgfSBjYXRjaCAoZXJyb3IpIHsKICAvLyAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgLy8gICB9CiAgLy8gICBpZiAocHJldmlvdXNPcmRlcikgcmV0dXJuOwogIC8vICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIkNhcnQvY2xlYXJDYXJ0Iik7CiAgLy8gICB0cnkgewogIC8vICAgICB0aGlzLnNlc3Npb24gPSAoCiAgLy8gICAgICAgYXdhaXQgQ2hlY2tvdXRTZXJ2aWNlLnJldHJpZXZlQ2hlY2tvdXRTZXNzaW9uKHNlc3Npb25JZCkKICAvLyAgICAgKS5kYXRhOwogIC8vICAgICB0aGlzLnZhbGlkU2Vzc2lvbiA9IE9iamVjdC5rZXlzKHRoaXMuc2Vzc2lvbikubGVuZ3RoICE9IDA7CiAgLy8gICB9IGNhdGNoIChlcnJvcikgewogIC8vICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAvLyAgIH0KICAvLyAgIGlmICghdGhpcy52YWxpZFNlc3Npb24pIHJldHVybjsKICAvLyAgIGNvbnN0IGxpbmVJdGVtcyA9IHRoaXMuc2Vzc2lvbi5saW5lX2l0ZW1zLmRhdGE7CiAgLy8gICAvLyBjb25zdCBzaGlwQ29zdCA9IGxpbmVJdGVtc1tsaW5lSXRlbXMubGVuZ3RoIC0gMV0uYW1vdW50X3RvdGFsOwogIC8vICAgY29uc3Qgc2hpcENvc3QgPSAwOwogIC8vICAgdHJ5IHsKICAvLyAgICAgdGhpcy5vcmRlciA9ICgKICAvLyAgICAgICBhd2FpdCBPcmRlclNlcnZpY2UuY3JlYXRlT3JkZXIoewogIC8vICAgICAgICAgbmFtZTogdGhpcy5zZXNzaW9uLm1ldGFkYXRhLmN1c3RvbWVyTmFtZSwKICAvLyAgICAgICAgIHBob25lTm86IHRoaXMuc2Vzc2lvbi5tZXRhZGF0YS5jdXN0b21lclBob25lTm8sCiAgLy8gICAgICAgICBlbWFpbDogdGhpcy5zZXNzaW9uLmN1c3RvbWVyX2VtYWlsLAogIC8vICAgICAgICAgYWRkcmVzczogdGhpcy5zZXNzaW9uLm1ldGFkYXRhLnNoaXBwaW5nQWRkcmVzcywKICAvLyAgICAgICAgIHN0YXR1czogInBhaWQiLAogIC8vICAgICAgICAgdmFyaWFudDogImRhcmsiLAogIC8vICAgICAgICAgY2hlY2tvdXRTZXNzaW9uSWQ6IHNlc3Npb25JZCwKICAvLyAgICAgICAgIHByb2R1Y3RDb3N0OiAodGhpcy5zZXNzaW9uLmFtb3VudF90b3RhbCAtIHNoaXBDb3N0KSAvIDEwMCwKICAvLyAgICAgICAgIGN1cnJlbmN5OiB0aGlzLnNlc3Npb24uY3VycmVuY3kudG9VcHBlckNhc2UoKSwKICAvLyAgICAgICAgIC8vIHNoaXBwaW5nQ29zdDogc2hpcENvc3QgLyAxMDAKICAvLyAgICAgICAgIHNoaXBwaW5nQ29zdDogMAogIC8vICAgICAgIH0pCiAgLy8gICAgICkuZGF0YTsKICAvLyAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgLy8gICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpOwogIC8vICAgfQoKICAvLyAgIHZhciBpOwogIC8vICAgZm9yIChpID0gMDsgaSA8IGxpbmVJdGVtcy5sZW5ndGggLSAxOyBpKyspIHsKICAvLyAgICAgY29uc3QgcHJvZHVjdElkID0gcGFyc2VJbnQobGluZUl0ZW1zW2ldLmRlc2NyaXB0aW9uKTsKICAvLyAgICAgdHJ5IHsKICAvLyAgICAgICBhd2FpdCBPcmRlckl0ZW1TZXJ2aWNlLmNyZWF0ZU9yZGVySXRlbSh7CiAgLy8gICAgICAgICBxdWFudGl0eTogbGluZUl0ZW1zW2ldLnF1YW50aXR5LAogIC8vICAgICAgICAgUHJvZHVjdElkOiBwcm9kdWN0SWQsCiAgLy8gICAgICAgICBPcmRlcklkOiB0aGlzLm9yZGVyLmlkCiAgLy8gICAgICAgfSk7CiAgLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgLy8gICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgLy8gICAgIH0KICAvLyAgICAgdmFyIGxpbmVwcm9kdWN0OwogIC8vICAgICB0cnkgewogIC8vICAgICAgIGxpbmVwcm9kdWN0ID0gKGF3YWl0IFByb2R1Y3RzU2VydmljZS5nZXRQcm9kdWN0U2FsZXMocHJvZHVjdElkKSkuZGF0YTsKICAvLyAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAvLyAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAvLyAgICAgfQogIC8vICAgICB0cnkgewogIC8vICAgICAgIGF3YWl0IFByb2R1Y3RzU2VydmljZS51cGRhdGVQcm9kdWN0KHsKICAvLyAgICAgICAgIGlkOiBwcm9kdWN0SWQsCiAgLy8gICAgICAgICBzYWxlczogbGluZXByb2R1Y3Quc2FsZXMgKyBsaW5lSXRlbXNbaV0ucXVhbnRpdHkKICAvLyAgICAgICB9KTsKICAvLyAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAvLyAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAvLyAgICAgfQogIC8vICAgfQogIC8vIH0sCgogIG1ldGhvZHM6IHsKICAgIGdlbmVyZXJGYWN0dXJlKCkgewogICAgICBjb25zb2xlLmxvZygiRmFjdHVyZSBnw6luw6lyw6kiKTsKICAgICAgLy8gTGFuZHNjYXBlIGV4cG9ydCwgMsOXNCBpbmNoZXMKICAgICAgY29uc3QgZG9jID0gbmV3IGpzUERGKCk7CiAgICAgIGRvYy50ZXh0KCJIZWxsbyB3b3JsZCEiLCAxMCwgMTApOwogICAgICBkb2Muc2F2ZSgiYTQucGRmIik7IC8vIHdpbGwgc2F2ZSB0aGUgZmlsZSBpbiB0aGUgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeQogICAgfSwKCiAgICBnZW5lcmF0ZVBkZigpIHsKICAgICAgdmFyIGRvYyA9IG5ldyBqc1BERigncCcsICdwdCcsICdBNCcpOwogICAgICBkb2MuZnJvbUhUTUwodGhpcy4kcmVmcy50ZXN0SHRtbCk7CiAgICAgIGRvYy5zYXZlKCd0ZXN0LnBkZicpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHt9Cn07"},{"version":3,"mappings":"AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACA;MACA;MACA;MACAC;IACA;EACA;EAGAC,WAEA;EACAC;IACA;IACAC;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEAC;IACAC;MACAF;MACA;MACA;MACAG;MACAA;IAEA;;IAEAC;MACA;MAEAD;MAEAA;IACA;EAEA;EACAE;AACA","names":["name","components","TopHeader","Footer","data","heading","mounted","created","console","methods","genererFacture","doc","generatePdf","computed"],"sourceRoot":"src/views/PayMoney","sources":["SuccessPayment.vue"],"sourcesContent":["\n<template>\n  <div>\n    <TopHeader></TopHeader>\n    <b-container class=\"mt-5\">\n      <b-row align-h=\"center\">\n        <b-col cols=\"6\" class=\"text-center\">\n          <b-card\n            border-variant=\"success\"\n            header=\"Succès\"\n            header-bg-variant=\"success\"\n            header-text-variant=\"white\"\n            align=\"center\"\n          >\n            <b-button size=\"lg\" disabled variant=\"success\">\n              <b-icon icon=\"check\" scale=\"3\" />\n            </b-button>\n            <h1 class=\"mt-4\">Commande éffectuée!</h1>\n            <h6>Merci pour votre fidélité</h6>\n            <h6>Votre livraison sera effectué dans un delai de deux jours</h6>\n            <h6><strong> Un message vous ai été envoyé sur votre email. Ce message contient votre code de commande à présenter au livreur lors de la livraison</strong></h6>\n            <b-button style=\"margin-top: 20px;\" @click=\"genererFacture()\">Générer une facture</b-button>\n\n            <b-card-footer class=\"mt-4\"> oeuf-dor.com </b-card-footer>\n          </b-card>\n        </b-col>\n      </b-row>\n\n\n      <div id=\"app\" ref=\"testHtml\">\n        <h1>Test heading </h1>\n        <div class=\"card\">\n        <div class=\"card-header\">\n          Featured\n        </div>\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">Special title treatment</h5>\n          <p class=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\n          <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n        </div>\n      </div>\n        <div class=\"card\">\n        <div class=\"card-header\">\n          Featured\n        </div>\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">Special title treatment</h5>\n          <p class=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\n          <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n        </div>\n      </div>\n        <button class=\"btn btn-danger\" @click=\"generatePdf\">generate PDF</button>\n      </div>\n      \n      \n\n\n    </b-container>\n    <Footer class=\"mt-5\" />\n  </div>\n</template>\n\n<script>\nimport TopHeader from \"@/components/Common/TopHeader.vue\";\nimport Footer from \"@/components/Common/Footer.vue\";\nimport { jsPDF } from \"jspdf\";\n// import CheckoutService from \"@/services/CheckoutService.js\";\n// import OrderService from \"@/services/OrderService.js\";\n// import OrderItemService from \"@/services/OrderItemService.js\";\n// import ProductsService from \"@/services/ProductsService.js\";\nexport default {\n  name: \"SuccessPayment\",\n  components: {\n    TopHeader,\n    Footer\n  },\n  data() {\n    return {\n      // order: {},\n      // session: {},\n      // validSession: false\n      heading: \"Facture de  commande Oeuf d'or\"\n    };\n  },\n\n\n  mounted() {\n   \n  },\n  created() {\n    const factureInfo = JSON.parse(localStorage.getItem(\"elmtFacture\"));\n    console.log(factureInfo);\n  },\n  // async mounted() {\n  //   // const sessionId = this.$route.query.id;\n  //   const sessionId = 123456789\n  //   console.log(sessionId);\n    \n  //   var previousOrder;\n  //   try {\n  //     previousOrder = (await OrderService.getOrderBySessionId(sessionId)).data;\n  //   } catch (error) {\n  //     console.log(error.response.data.error);\n  //   }\n  //   if (previousOrder) return;\n  //   this.$store.dispatch(\"Cart/clearCart\");\n  //   try {\n  //     this.session = (\n  //       await CheckoutService.retrieveCheckoutSession(sessionId)\n  //     ).data;\n  //     this.validSession = Object.keys(this.session).length != 0;\n  //   } catch (error) {\n  //     console.log(error.response.data.error);\n  //   }\n  //   if (!this.validSession) return;\n  //   const lineItems = this.session.line_items.data;\n  //   // const shipCost = lineItems[lineItems.length - 1].amount_total;\n  //   const shipCost = 0;\n  //   try {\n  //     this.order = (\n  //       await OrderService.createOrder({\n  //         name: this.session.metadata.customerName,\n  //         phoneNo: this.session.metadata.customerPhoneNo,\n  //         email: this.session.customer_email,\n  //         address: this.session.metadata.shippingAddress,\n  //         status: \"paid\",\n  //         variant: \"dark\",\n  //         checkoutSessionId: sessionId,\n  //         productCost: (this.session.amount_total - shipCost) / 100,\n  //         currency: this.session.currency.toUpperCase(),\n  //         // shippingCost: shipCost / 100\n  //         shippingCost: 0\n  //       })\n  //     ).data;\n  //   } catch (error) {\n  //     console.log(error.response.data.error);\n  //   }\n\n  //   var i;\n  //   for (i = 0; i < lineItems.length - 1; i++) {\n  //     const productId = parseInt(lineItems[i].description);\n  //     try {\n  //       await OrderItemService.createOrderItem({\n  //         quantity: lineItems[i].quantity,\n  //         ProductId: productId,\n  //         OrderId: this.order.id\n  //       });\n  //     } catch (error) {\n  //       console.log(error.response.data.error);\n  //     }\n  //     var lineproduct;\n  //     try {\n  //       lineproduct = (await ProductsService.getProductSales(productId)).data;\n  //     } catch (error) {\n  //       console.log(error.response.data.error);\n  //     }\n  //     try {\n  //       await ProductsService.updateProduct({\n  //         id: productId,\n  //         sales: lineproduct.sales + lineItems[i].quantity\n  //       });\n  //     } catch (error) {\n  //       console.log(error.response.data.error);\n  //     }\n  //   }\n  // },\n  \n  methods: {\n    genererFacture() {\n      console.log(\"Facture généré\");\n// Landscape export, 2×4 inches\nconst doc = new jsPDF();\ndoc.text(\"Hello world!\", 10, 10);\ndoc.save(\"a4.pdf\"); // will save the file in the current working directory\n\n    },\n    \n    generatePdf(){\n       var doc = new jsPDF('p', 'pt', 'A4');\n      \n      doc.fromHTML(this.$refs.testHtml);\n      \n      doc.save('test.pdf');\n    }\n\n  },\n  computed: {}\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}