{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\User\\Profile\\UPublicProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\User\\Profile\\UPublicProfile.vue","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\babel.config.js","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1664810875252}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEF1dGhlbnRpY2F0aW9uU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL0F1dGhlbnRpY2F0aW9uU2VydmljZS5qcyI7CmltcG9ydCBVc2VyU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL1VzZXJTZXJ2aWNlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVUHVibGljUHJvZmlsZSIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHt9LAogICAgICB1c2VySWQ6IDAsCiAgICAgIGVkaXROYW1lOiAwLAogICAgICBsYXN0TmFtZTogIiIsCiAgICAgIHVzZXJOYW1lOiAiIiwKICAgICAgZmlyc3ROYW1lOiAiIiwKICAgICAgZWRpdFVzZXJOYW1lOiAwLAogICAgICBmb3JtYXRVc2VyTmFtZTogL15bYS16QS1aMC05XXs2LDIwfSQvLAogICAgICBmb3JtYXRQYXNzd29yZDogL15bYS16QS16MC05XXs4LDMyfSQvLAogICAgICB1c2VyTmFtZU1lc3NhZ2U6ICIiLAogICAgICB1c2VyTmFtZVZhbGlkYXRpb246IG51bGwsCiAgICAgIHZhbGlkQ3VycmVudFBhc3N3b3JkOiB0cnVlLAogICAgICBjdXJyZW50UGFzc3dvcmRNZXNzYWdlOiAiIiwKICAgICAgbmV3UGFzc3dvcmRNZXNzYWdlOiAiIiwKICAgICAgY29uZmlybVBhc3N3b3JkTWVzc2FnZTogIiIsCiAgICAgIGN1cnJlbnRQYXNzd29yZDogbnVsbCwKICAgICAgbmV3UGFzc3dvcmQ6IG51bGwsCiAgICAgIGNvbmZpcm1QYXNzd29yZDogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjdXJyZW50UGFzc3dvcmRWYWxpZGF0aW9uKCkgewogICAgICBpZiAodGhpcy5jdXJyZW50UGFzc3dvcmQgPT0gIiIpIHJldHVybiBmYWxzZTtlbHNlIHJldHVybiBudWxsOwogICAgfSwKICAgIG5ld1Bhc3N3b3JkVmFsaWRhdGlvbigpIHsKICAgICAgaWYgKHRoaXMubmV3UGFzc3dvcmQgPT0gbnVsbCkgcmV0dXJuIG51bGw7ZWxzZSBpZiAoIXRoaXMuZm9ybWF0UGFzc3dvcmQudGVzdCh0aGlzLm5ld1Bhc3N3b3JkKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHJldHVybiB0cnVlOwogICAgfSwKICAgIGNvbmZpcm1QYXNzd29yZFZhbGlkYXRpb24oKSB7CiAgICAgIGlmICh0aGlzLmNvbmZpcm1QYXNzd29yZCA9PSBudWxsKSByZXR1cm4gbnVsbDtlbHNlIGlmICh0aGlzLm5ld1Bhc3N3b3JkICE9IHRoaXMuY29uZmlybVBhc3N3b3JkIHx8ICF0aGlzLmZvcm1hdFBhc3N3b3JkLnRlc3QodGhpcy5jb25maXJtUGFzc3dvcmQpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwKICBhc3luYyBtb3VudGVkKCkgewogICAgdGhpcy51c2VySWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5DdXJyZW50VXNlci51c2VySWQ7CiAgICB0cnkgewogICAgICB0aGlzLnVzZXIgPSAoYXdhaXQgVXNlclNlcnZpY2UuZ2V0VXNlckJ5SWQodGhpcy51c2VySWQpKS5kYXRhOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VOYW1lKCkgewogICAgICB0aGlzLmZpcnN0TmFtZSA9IHRoaXMudXNlci5maXJzdE5hbWU7CiAgICAgIHRoaXMubGFzdE5hbWUgPSB0aGlzLnVzZXIubGFzdE5hbWU7CiAgICAgIHRoaXMuZWRpdE5hbWUgXj0gMTsKICAgIH0sCiAgICBhc3luYyB1cGRhdGVOYW1lKCkgewogICAgICB0cnkgewogICAgICAgIGF3YWl0IFVzZXJTZXJ2aWNlLnVwZGF0ZVVzZXIoewogICAgICAgICAgaWQ6IHRoaXMudXNlci5pZCwKICAgICAgICAgIGZpcnN0TmFtZTogdGhpcy5maXJzdE5hbWUsCiAgICAgICAgICBsYXN0TmFtZTogdGhpcy5sYXN0TmFtZQogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJDdXJyZW50VXNlci9zZXROYW1lIiwgewogICAgICAgICAgZmlyc3ROYW1lOiB0aGlzLmZpcnN0TmFtZSwKICAgICAgICAgIGxhc3ROYW1lOiB0aGlzLmxhc3ROYW1lCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5lZGl0TmFtZSBePSAxOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGNoYW5nZVVzZXJOYW1lKCkgewogICAgICB0aGlzLnVzZXJOYW1lID0gdGhpcy51c2VyLnVzZXJuYW1lOwogICAgICB0aGlzLmVkaXRVc2VyTmFtZSBePSAxOwogICAgfSwKICAgIGFzeW5jIGNoZWNrVXNlck5hbWUoKSB7CiAgICAgIGlmICh0aGlzLnVzZXJOYW1lID09IHRoaXMudXNlci51c2VybmFtZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLmZvcm1hdFVzZXJOYW1lLnRlc3QodGhpcy51c2VyTmFtZSkpIHsKICAgICAgICB0aGlzLnVzZXJOYW1lVmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgIHRoaXMudXNlck5hbWVNZXNzYWdlID0gIllvdXIgdXNlcm5hbWUgbXVzdCBiZSA2LTIwIGNoYXJhY3RlcnMgdXNpbmcgYWxwaGFiZXRzIGFuZCBudW1iZXJzIjsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXNwb25zZSA9IChhd2FpdCBVc2VyU2VydmljZS5jaGVja1VzZXJOYW1lKHRoaXMudXNlck5hbWUpKS5kYXRhOwogICAgICAgIHRoaXMudXNlck5hbWVWYWxpZGF0aW9uID0gcmVzcG9uc2UudXNlck5hbWVBdmFpbGFibGU7CiAgICAgICAgaWYgKHJlc3BvbnNlLnVzZXJOYW1lQXZhaWxhYmxlID09IHRydWUpIHsKICAgICAgICAgIHRoaXMudXNlck5hbWVNZXNzYWdlID0gIiI7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy51c2VyTmFtZU1lc3NhZ2UgPSAiVGhpcyB1c2VybmFtZSBpcyBub3QgYXZhaWxhYmxlIjsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy51c2VyTmFtZVZhbGlkYXRpb24gPSBmYWxzZTsKICAgICAgICB0aGlzLnVzZXJOYW1lTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3I7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyB1cGRhdGVVc2VyTmFtZSgpIHsKICAgICAgaWYgKCEoYXdhaXQgdGhpcy5jaGVja1VzZXJOYW1lKCkpIHx8IHRoaXMudXNlck5hbWUgPT0gdGhpcy51c2VyLnVzZXJuYW1lKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgVXNlclNlcnZpY2UudXBkYXRlVXNlcih7CiAgICAgICAgICBpZDogdGhpcy51c2VyLmlkLAogICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlck5hbWUKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ3VycmVudFVzZXIvc2V0VXNlck5hbWUiLCB0aGlzLnVzZXJOYW1lKTsKICAgICAgICB0aGlzLmVkaXRVc2VyTmFtZSBePSAxOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLnVzZXJOYW1lVmFsaWRhdGlvbiA9IGZhbHNlOwogICAgICAgIHRoaXMudXNlck5hbWVNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0UGFzc3dvcmRGaWVsZCgpIHsKICAgICAgdGhpcy5jdXJyZW50UGFzc3dvcmQgPSAiIjsKICAgICAgdGhpcy5uZXdQYXNzd29yZCA9IG51bGw7CiAgICAgIHRoaXMuY29uZmlybVBhc3N3b3JkID0gbnVsbDsKICAgIH0sCiAgICBhc3luYyB1cGRhdGVQYXNzd29yZCgpIHsKICAgICAgdmFyIGNvcnJlY3RQYXNzd29yZCA9IGZhbHNlOwogICAgICB0cnkgewogICAgICAgIGNvcnJlY3RQYXNzd29yZCA9IChhd2FpdCBBdXRoZW50aWNhdGlvblNlcnZpY2UudmVyaWZ5UGFzc3dvcmQodGhpcy5jdXJyZW50UGFzc3dvcmQpKS5kYXRhLmNvcnJlY3RQYXNzd29yZDsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLnZhbGlkQ3VycmVudFBhc3N3b3JkID0gZmFsc2U7CiAgICAgICAgdGhpcy5jdXJyZW50UGFzc3dvcmRNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgfQogICAgICBpZiAoY29ycmVjdFBhc3N3b3JkICYmIHRoaXMubmV3UGFzc3dvcmRWYWxpZGF0aW9uICYmIHRoaXMuY29uZmlybVBhc3N3b3JkVmFsaWRhdGlvbikgewogICAgICAgIHRyeSB7CiAgICAgICAgICBhd2FpdCBBdXRoZW50aWNhdGlvblNlcnZpY2UudXBkYXRlUGFzc3dvcmQoewogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5uZXdQYXNzd29yZAogICAgICAgICAgfSk7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIHRoaXMudmFsaWRDdXJyZW50UGFzc3dvcmQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuY3VycmVudFBhc3N3b3JkTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3I7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"AA+RA;AACA;AACA;EACAA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA,kDACA;IACA;IACAC;MACA,+CACA;QACA;MACA;IACA;IACAC;MACA,mDACA,IACA,4CACA,iDACA;QACA;MACA;IACA;EACA;EACA;IACA;IACA;MACA;IACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;IACA;IACA;MACA;QACA;UACAC;UACApB;UACAF;QACA;QACA;UACAE;UACAF;QACA;QACA;QACAuB;MACA;QACAJ;MACA;IACA;IACAK;MACA;MACA;IACA;IACA;MACA;QACA;MACA;QACA;QACA,uBACA;QACA;MACA;MACA;QACA;QACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;QACA;QACA;QACAL;MACA;IACA;IACA;MACA,IACA,iCACA,qCACA;QACA;MACA;MACA;QACA;UACAG;UACAG;QACA;QACA;QACA;QACAF;MACA;QACA;QACA;QACAJ;MACA;IACA;IACAO;MACA;MACA;MACA;IACA;IACA;MACA;MACA;QACAC,mBACA,kEACA/B;MACA;QACA;QACA;MACA;MACA,IACA+B,mBACA,8BACA,gCACA;QACA;UACA;YACAC;UACA;UACAL;QACA;UACA;UACA;QACA;MACA;IACA;EACA;AACA","names":["name","components","data","user","userId","editName","lastName","userName","firstName","editUserName","formatUserName","formatPassword","userNameMessage","userNameValidation","validCurrentPassword","currentPasswordMessage","newPasswordMessage","confirmPasswordMessage","currentPassword","newPassword","confirmPassword","computed","currentPasswordValidation","newPasswordValidation","confirmPasswordValidation","console","methods","changeName","id","window","changeUserName","username","resetPasswordField","correctPassword","password"],"sourceRoot":"src/components/User/Profile","sources":["UPublicProfile.vue"],"sourcesContent":["<template>\n  <div>\n    <b-row>\n      <b-col>\n        <h5>Public profile</h5>\n      </b-col>\n    </b-row>\n    <hr class=\"my-2\" />\n    <b-row class=\"mt-3\">\n      <b-col cols=\"7\">\n        <div>\n          <strong>Name</strong>\n          <b-badge\n            pill\n            class=\"ml-2\"\n            v-if=\"user.priority == 1\"\n            variant=\"success\"\n          >\n            <b-icon icon=\"check-circle-fill\" />\n            Admin\n          </b-badge>\n        </div>\n        <div class=\"mt-1\" v-if=\"editName == 0\">\n          {{ user.firstName }} {{ user.lastName }}\n          <b-button @click=\"changeName\" variant=\"white\" class=\"ml-1\" size=\"sm\">\n            <b-icon\n              v-b-tooltip.hover\n              title=\"change name\"\n              scale=\"0.8\"\n              icon=\"pen\"\n            />\n          </b-button>\n        </div>\n\n        <div v-if=\"editName == 1\">\n          <b-form @submit.stop.prevent=\"updateName\">\n            <b-row class=\"mt-2\">\n              <b-col>\n                <b-form-input\n                  size=\"sm\"\n                  placeholder=\"First Name\"\n                  v-model=\"firstName\"\n                  required\n                />\n              </b-col>\n              <b-col>\n                <b-form-input\n                  size=\"sm\"\n                  placeholder=\"Last Name\"\n                  v-model=\"lastName\"\n                  required\n                />\n              </b-col>\n            </b-row>\n            <b-row class=\"mt-2\">\n              <b-col>\n                <b-button size=\"sm\" type=\"submit\" variant=\"warning\">\n                  Save\n                </b-button>\n                <b-button\n                  class=\"ml-2\"\n                  @click=\"editName ^= 1\"\n                  size=\"sm\"\n                  variant=\"outline-danger\"\n                >\n                  Cancel\n                </b-button>\n              </b-col>\n            </b-row>\n          </b-form>\n        </div>\n\n        <div>\n          <div class=\"mt-3\">\n            <strong>Username</strong>\n            <b-button\n              v-if=\"!user.username\"\n              @click=\"changeUserName\"\n              variant=\"white\"\n              class=\"ml-1\"\n              size=\"sm\"\n            >\n              <b-icon\n                v-b-tooltip.hover\n                title=\"Add username\"\n                scale=\"0.8\"\n                icon=\"pen\"\n              />\n            </b-button>\n          </div>\n          <div class=\"mt-1\" v-if=\"user.username && editUserName == 0\">\n            {{ user.username }}\n            <b-button\n              @click=\"changeUserName\"\n              variant=\"white\"\n              class=\"ml-1\"\n              size=\"sm\"\n            >\n              <b-icon\n                v-b-tooltip.hover\n                title=\"Change username\"\n                scale=\"0.8\"\n                icon=\"pen\"\n              />\n            </b-button>\n          </div>\n          <div v-if=\"editUserName == 1\">\n            <b-form @submit.stop.prevent=\"updateUserName\">\n              <b-row max-cols=\"6\" class=\"mt-2\">\n                <b-col cols=\"6\">\n                  <b-form-input\n                    size=\"sm\"\n                    placeholder=\"Username\"\n                    v-model=\"userName\"\n                    debounce=\"500\"\n                    @update=\"checkUserName\"\n                    :state=\"userNameValidation\"\n                    required\n                  />\n                  <b-form-valid-feedback :state=\"userNameValidation\">\n                    This username is available.\n                  </b-form-valid-feedback>\n                  <b-form-invalid-feedback :state=\"userNameValidation\">\n                    {{ userNameMessage }}\n                  </b-form-invalid-feedback>\n                </b-col>\n              </b-row>\n              <b-row class=\"mt-2\">\n                <b-col>\n                  <b-button size=\"sm\" type=\"submit\" variant=\"warning\">\n                    Save\n                  </b-button>\n                  <b-button\n                    class=\"ml-2\"\n                    @click=\"editUserName ^= 1\"\n                    size=\"sm\"\n                    variant=\"outline-danger\"\n                  >\n                    Cancel\n                  </b-button>\n                </b-col>\n              </b-row>\n            </b-form>\n          </div>\n        </div>\n        <div class=\"mt-3\">\n          <strong>Email</strong>\n        </div>\n        <div class=\"mt-1\">\n          {{ user.email }}\n        </div>\n        <div class=\"mt-3\">\n          <strong>Password</strong>\n        </div>\n        <div class=\"mt-1\">\n          ********\n          <b-button\n            v-b-modal.modalUpdatePassword\n            variant=\"white\"\n            class=\"ml-1\"\n            size=\"sm\"\n          >\n            <b-icon\n              v-b-tooltip.hover\n              title=\"change password\"\n              scale=\"0.8\"\n              icon=\"pen\"\n            />\n          </b-button>\n        </div>\n        <b-modal\n          @shown=\"$refs.currentPasswordField.focus()\"\n          title=\"Change password\"\n          id=\"modalUpdatePassword\"\n          hide-footer\n        >\n          <b-form\n            @reset=\"resetPasswordField\"\n            @submit.stop.prevent=\"updatePassword\"\n          >\n            <b-form-group\n              id=\"input-group-current-password\"\n              label=\"Current Password\"\n              label-for=\"input-current-password\"\n            >\n              <b-form-input\n                v-model=\"currentPassword\"\n                id=\"input-current-password\"\n                type=\"password\"\n                ref=\"currentPasswordField\"\n                :state=\"validCurrentPassword && currentPasswordValidation\"\n                required\n              />\n              <b-form-invalid-feedback\n                v-if=\"currentPassword\"\n                :state=\"validCurrentPassword && currentPasswordValidation\"\n              >\n                {{ currentPasswordMessage }}\n              </b-form-invalid-feedback>\n              <b-form-invalid-feedback\n                v-if=\"!currentPassword\"\n                :state=\"validCurrentPassword && currentPasswordValidation\"\n              >\n                Current password field can't be empty!\n              </b-form-invalid-feedback>\n            </b-form-group>\n            <b-form-group\n              id=\"input-group-new-password\"\n              label=\"New Password\"\n              label-for=\"input-new-password\"\n            >\n              <b-form-input\n                v-model=\"newPassword\"\n                id=\"input-new-password\"\n                type=\"password\"\n                :state=\"newPasswordValidation\"\n                required\n              />\n\n              <b-form-invalid-feedback\n                v-if=\"newPassword\"\n                :state=\"newPasswordValidation\"\n              >\n                New password must have 8-32 character long, contain letters,\n                numbers and must not contain space.\n              </b-form-invalid-feedback>\n              <b-form-invalid-feedback\n                v-if=\"!newPassword\"\n                :state=\"newPasswordValidation\"\n              >\n                Password field can't be empty!\n              </b-form-invalid-feedback>\n            </b-form-group>\n            <b-form-group\n              id=\"input-group-confirm-password\"\n              label=\"Confirm Password\"\n              label-for=\"input-confirm-password\"\n            >\n              <b-form-input\n                v-model=\"confirmPassword\"\n                id=\"input-confirm-password\"\n                :state=\"confirmPasswordValidation\"\n                type=\"password\"\n                required\n              />\n              <b-form-invalid-feedback\n                v-if=\"confirmPassword\"\n                :state=\"confirmPasswordValidation\"\n              >\n                Password didn't match\n              </b-form-invalid-feedback>\n              <b-form-invalid-feedback\n                v-if=\"!confirmPassword\"\n                :state=\"confirmPasswordValidation\"\n              >\n                Password field can't be empty!\n              </b-form-invalid-feedback>\n            </b-form-group>\n            <b-row class=\"mt-4\">\n              <b-col cols=\"4\" />\n              <b-col cols=\"4\">\n                <b-button type=\"reset\" block variant=\"danger\">\n                  Reset\n                </b-button>\n              </b-col>\n              <b-col cols=\"4\">\n                <b-button block type=\"submit\" variant=\"success\">\n                  Submit\n                </b-button>\n              </b-col>\n            </b-row>\n          </b-form>\n        </b-modal>\n      </b-col>\n      <b-col cols=\"5\">\n        <b-img\n          rounded=\"circle\"\n          width=\"230px\"\n          height=\"auto\"\n          :src=\"user.profileImage\"\n        />\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport AuthenticationService from \"@/services/AuthenticationService.js\";\nimport UserService from \"@/services/UserService.js\";\nexport default {\n  name: \"UPublicProfile\",\n  components: {},\n  data() {\n    return {\n      user: {},\n      userId: 0,\n      editName: 0,\n      lastName: \"\",\n      userName: \"\",\n      firstName: \"\",\n      editUserName: 0,\n      formatUserName: /^[a-zA-Z0-9]{6,20}$/,\n      formatPassword: /^[a-zA-z0-9]{8,32}$/,\n      userNameMessage: \"\",\n      userNameValidation: null,\n      validCurrentPassword: true,\n      currentPasswordMessage: \"\",\n      newPasswordMessage: \"\",\n      confirmPasswordMessage: \"\",\n      currentPassword: null,\n      newPassword: null,\n      confirmPassword: null\n    };\n  },\n  computed: {\n    currentPasswordValidation() {\n      if (this.currentPassword == \"\") return false;\n      else return null;\n    },\n    newPasswordValidation() {\n      if (this.newPassword == null) return null;\n      else if (!this.formatPassword.test(this.newPassword)) {\n        return false;\n      } else return true;\n    },\n    confirmPasswordValidation() {\n      if (this.confirmPassword == null) return null;\n      else if (\n        this.newPassword != this.confirmPassword ||\n        !this.formatPassword.test(this.confirmPassword)\n      ) {\n        return false;\n      } else return true;\n    }\n  },\n  async mounted() {\n    this.userId = this.$store.state.CurrentUser.userId;\n    try {\n      this.user = (await UserService.getUserById(this.userId)).data;\n    } catch (error) {\n      console.log(error.response.data.error);\n    }\n  },\n  methods: {\n    changeName() {\n      this.firstName = this.user.firstName;\n      this.lastName = this.user.lastName;\n      this.editName ^= 1;\n    },\n    async updateName() {\n      try {\n        await UserService.updateUser({\n          id: this.user.id,\n          firstName: this.firstName,\n          lastName: this.lastName\n        });\n        this.$store.dispatch(\"CurrentUser/setName\", {\n          firstName: this.firstName,\n          lastName: this.lastName\n        });\n        this.editName ^= 1;\n        window.location.reload();\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    },\n    changeUserName() {\n      this.userName = this.user.username;\n      this.editUserName ^= 1;\n    },\n    async checkUserName() {\n      if (this.userName == this.user.username) {\n        return true;\n      } else if (!this.formatUserName.test(this.userName)) {\n        this.userNameValidation = false;\n        this.userNameMessage =\n          \"Your username must be 6-20 characters using alphabets and numbers\";\n        return false;\n      }\n      try {\n        const response = (await UserService.checkUserName(this.userName)).data;\n        this.userNameValidation = response.userNameAvailable;\n        if (response.userNameAvailable == true) {\n          this.userNameMessage = \"\";\n          return true;\n        } else {\n          this.userNameMessage = \"This username is not available\";\n          return false;\n        }\n      } catch (error) {\n        this.userNameValidation = false;\n        this.userNameMessage = error.response.data.error;\n        console.log(error.response.data.error);\n      }\n    },\n    async updateUserName() {\n      if (\n        !(await this.checkUserName()) ||\n        this.userName == this.user.username\n      ) {\n        return;\n      }\n      try {\n        await UserService.updateUser({\n          id: this.user.id,\n          username: this.userName\n        });\n        this.$store.dispatch(\"CurrentUser/setUserName\", this.userName);\n        this.editUserName ^= 1;\n        window.location.reload();\n      } catch (error) {\n        this.userNameValidation = false;\n        this.userNameMessage = error.response.data.error;\n        console.log(error.response.data.error);\n      }\n    },\n    resetPasswordField() {\n      this.currentPassword = \"\";\n      this.newPassword = null;\n      this.confirmPassword = null;\n    },\n    async updatePassword() {\n      var correctPassword = false;\n      try {\n        correctPassword = (\n          await AuthenticationService.verifyPassword(this.currentPassword)\n        ).data.correctPassword;\n      } catch (error) {\n        this.validCurrentPassword = false;\n        this.currentPasswordMessage = error.response.data.error;\n      }\n      if (\n        correctPassword &&\n        this.newPasswordValidation &&\n        this.confirmPasswordValidation\n      ) {\n        try {\n          await AuthenticationService.updatePassword({\n            password: this.newPassword\n          });\n          window.location.reload();\n        } catch (error) {\n          this.validCurrentPassword = false;\n          this.currentPasswordMessage = error.response.data.error;\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}