{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\store\\Wishlist.js","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\store\\Wishlist.js","mtime":1666372807310},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\babel.config.js","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664810865393},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1664810865430},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\eslint-loader\\index.js","mtime":1664813984008}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zaGlmdC5qcyI7CmltcG9ydCBXaXNobGlzdFNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9XaXNobGlzdFNlcnZpY2UuanMiOwpleHBvcnQgY29uc3QgV2lzaGxpc3RNb2R1bGUgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdHJpY3Q6IHRydWUsCiAgc3RhdGU6IHsKICAgIGRhdGFMb2FkZWQ6IGZhbHNlLAogICAgd2lzaGxpc3Q6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFNFVF9XSVNITElTVChzdGF0ZSwgd2lzaGxpc3QpIHsKICAgICAgc3RhdGUud2lzaGxpc3QgPSB3aXNobGlzdDsKICAgIH0sCiAgICBBRERfV0lTSExJU1RfSVRFTShzdGF0ZSwgd2lzaGxpc3RJdGVtKSB7CiAgICAgIHN0YXRlLndpc2hsaXN0LnVuc2hpZnQod2lzaGxpc3RJdGVtKTsKICAgIH0sCiAgICBSRU1PVkVfV0lTSExJU1RfSVRFTShzdGF0ZSwgaW5kZXgpIHsKICAgICAgc3RhdGUud2lzaGxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICBTRVRfREFUQV9MT0FERUQoc3RhdGUsIGRhdGFMb2FkZWQpIHsKICAgICAgc3RhdGUuZGF0YUxvYWRlZCA9IGRhdGFMb2FkZWQ7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBhc3luYyBjbGVhcldpc2hsaXN0KHsKICAgICAgY29tbWl0CiAgICB9KSB7CiAgICAgIGNvbW1pdCgiU0VUX1dJU0hMSVNUIiwgW10pOwogICAgICBjb21taXQoIlNFVF9EQVRBX0xPQURFRCIsIGZhbHNlKTsKICAgIH0sCiAgICBhc3luYyBzZXRXaXNobGlzdCh7CiAgICAgIHN0YXRlLAogICAgICBjb21taXQKICAgIH0pIHsKICAgICAgaWYgKCFzdGF0ZS5kYXRhTG9hZGVkKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IHdpc2hsaXN0ID0gKGF3YWl0IFdpc2hsaXN0U2VydmljZS5nZXRXaXNobGlzdCgpKS5kYXRhOwogICAgICAgICAgY29tbWl0KCJTRVRfV0lTSExJU1QiLCB3aXNobGlzdCk7CiAgICAgICAgICBjb21taXQoIlNFVF9EQVRBX0xPQURFRCIsIHRydWUpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXRXaXNobGlzdCh7CiAgICAgIHN0YXRlLAogICAgICBkaXNwYXRjaAogICAgfSkgewogICAgICBpZiAoIXN0YXRlLmRhdGFMb2FkZWQgJiYgc3RhdGUud2lzaGxpc3QubGVuZ3RoID09IDApIHsKICAgICAgICBhd2FpdCBkaXNwYXRjaCgic2V0V2lzaGxpc3QiKTsKICAgICAgfQogICAgICByZXR1cm4gc3RhdGUud2lzaGxpc3Q7CiAgICB9LAogICAgYXN5bmMgZ2V0V2lzaGxpc3RJdGVtKHsKICAgICAgZGlzcGF0Y2gKICAgIH0sIHByb2R1Y3RJZCkgewogICAgICBjb25zdCB3aXNobGlzdCA9IGF3YWl0IGRpc3BhdGNoKCJnZXRXaXNobGlzdCIpOwogICAgICBjb25zdCBpbmRleCA9IHdpc2hsaXN0LmZpbmRJbmRleChvYmogPT4gb2JqLlByb2R1Y3RJZCA9PSBwcm9kdWN0SWQpOwogICAgICByZXR1cm4gaW5kZXg7CiAgICB9LAogICAgYXN5bmMgYWRkVG9XaXNobGlzdCh7CiAgICAgIGNvbW1pdCwKICAgICAgZGlzcGF0Y2gKICAgIH0sIHByb2R1Y3RJZCkgewogICAgICBjb25zdCBpbmRleCA9IGF3YWl0IGRpc3BhdGNoKCJnZXRXaXNobGlzdEl0ZW0iLCBwcm9kdWN0SWQpOwogICAgICBpZiAoaW5kZXggPT0gLTEpIHsKICAgICAgICB0cnkgewogICAgICAgICAgYXdhaXQgV2lzaGxpc3RTZXJ2aWNlLmNyZWF0ZVdpc2hsaXN0SXRlbSh7CiAgICAgICAgICAgIHByb2R1Y3RJZDogcHJvZHVjdElkCiAgICAgICAgICB9KTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCB3aXNobGlzdEl0ZW0gPSAoYXdhaXQgV2lzaGxpc3RTZXJ2aWNlLmdldFdpc2hsaXN0SXRlbShwcm9kdWN0SWQpKS5kYXRhOwogICAgICAgICAgY29tbWl0KCJBRERfV0lTSExJU1RfSVRFTSIsIHdpc2hsaXN0SXRlbSk7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgcmVtb3ZlV2lzaGxpc3RJdGVtKHsKICAgICAgY29tbWl0LAogICAgICBkaXNwYXRjaAogICAgfSwgcHJvZHVjdElkKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gYXdhaXQgZGlzcGF0Y2goImdldFdpc2hsaXN0SXRlbSIsIHByb2R1Y3RJZCk7CiAgICAgIGlmIChpbmRleCAhPSAtMSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBhd2FpdCBXaXNobGlzdFNlcnZpY2UucmVtb3ZlV2lzaGxpc3RJdGVtKHByb2R1Y3RJZCk7CiAgICAgICAgICBjb21taXQoIlJFTU9WRV9XSVNITElTVF9JVEVNIiwgaW5kZXgpOwogICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["WishlistService","WishlistModule","namespaced","strict","state","dataLoaded","wishlist","mutations","SET_WISHLIST","ADD_WISHLIST_ITEM","wishlistItem","unshift","REMOVE_WISHLIST_ITEM","index","splice","SET_DATA_LOADED","actions","clearWishlist","commit","setWishlist","getWishlist","data","error","console","log","response","dispatch","length","getWishlistItem","productId","findIndex","obj","ProductId","addToWishlist","createWishlistItem","removeWishlistItem"],"sources":["C:/Users/AlexisAnohVianneyANI/Downloads/emarket-main/shop/src/store/Wishlist.js"],"sourcesContent":["import WishlistService from \"@/services/WishlistService.js\";\nexport const WishlistModule = {\n  namespaced: true,\n  strict: true,\n  state: {\n    dataLoaded: false,\n    wishlist: []\n  },\n  mutations: {\n    SET_WISHLIST(state, wishlist) {\n      state.wishlist = wishlist;\n    },\n    ADD_WISHLIST_ITEM(state, wishlistItem) {\n      state.wishlist.unshift(wishlistItem);\n    },\n    REMOVE_WISHLIST_ITEM(state, index) {\n      state.wishlist.splice(index, 1);\n    },\n    SET_DATA_LOADED(state, dataLoaded) {\n      state.dataLoaded = dataLoaded;\n    }\n  },\n  actions: {\n    async clearWishlist({ commit }) {\n      commit(\"SET_WISHLIST\", []);\n      commit(\"SET_DATA_LOADED\", false);\n    },\n    async setWishlist({ state, commit }) {\n      if (!state.dataLoaded) {\n        try {\n          const wishlist = (await WishlistService.getWishlist()).data;\n          commit(\"SET_WISHLIST\", wishlist);\n          commit(\"SET_DATA_LOADED\", true);\n        } catch (error) {\n          console.log(error.response.data.error);\n        }\n      }\n    },\n    async getWishlist({ state, dispatch }) {\n      if (!state.dataLoaded && state.wishlist.length == 0) {\n        await dispatch(\"setWishlist\");\n      }\n      return state.wishlist;\n    },\n    async getWishlistItem({ dispatch }, productId) {\n      const wishlist = await dispatch(\"getWishlist\");\n      const index = wishlist.findIndex(obj => obj.ProductId == productId);\n      return index;\n    },\n    async addToWishlist({ commit, dispatch }, productId) {\n      const index = await dispatch(\"getWishlistItem\", productId);\n      if (index == -1) {\n        try {\n          await WishlistService.createWishlistItem({\n            productId: productId\n          });\n        } catch (error) {\n          console.log(error.response.data.error);\n        }\n        try {\n          const wishlistItem = (\n            await WishlistService.getWishlistItem(productId)\n          ).data;\n          commit(\"ADD_WISHLIST_ITEM\", wishlistItem);\n          return 0;\n        } catch (error) {\n          console.log(error.response.data.error);\n        }\n      }\n    },\n    async removeWishlistItem({ commit, dispatch }, productId) {\n      const index = await dispatch(\"getWishlistItem\", productId);\n      if (index != -1) {\n        try {\n          await WishlistService.removeWishlistItem(productId);\n          commit(\"REMOVE_WISHLIST_ITEM\", index);\n          return -1;\n        } catch (error) {\n          console.log(error.response.data.error);\n        }\n      }\n    }\n  }\n};\n"],"mappings":"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"}]}