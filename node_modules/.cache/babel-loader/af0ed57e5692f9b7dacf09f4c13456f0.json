{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\Products\\ProductList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\Products\\ProductList.vue","mtime":1668161355998},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\babel.config.js","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053078023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEFkZFRvQ2FydCBmcm9tICJAL2NvbXBvbmVudHMvTWFpbnRhaW5Qcm9kdWN0L0FkZFRvQ2FydC52dWUiOwppbXBvcnQgQWRkVG9XaXNobGlzdCBmcm9tICJAL2NvbXBvbmVudHMvTWFpbnRhaW5Qcm9kdWN0L0FkZFRvV2lzaGxpc3QudnVlIjsKaW1wb3J0IFByb2R1Y3RzU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL1Byb2R1Y3RzU2VydmljZS5qcyI7CmltcG9ydCBXaXNobGlzdFNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9XaXNobGlzdFNlcnZpY2UuanMiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlByb2R1Y3RMaXN0IiwKICBwcm9wczoge30sCiAgY29tcG9uZW50czogewogICAgQWRkVG9XaXNobGlzdCwKICAgIEFkZFRvQ2FydAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkbWluOiBmYWxzZSwKICAgICAgd2lzaGxpc3RLZXk6IDQsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBjYXJ0Q29tcG9uZW50S2V5OiAyCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKHsKICAgICAgZGlzcGxheVByb2R1Y3RzOiBzdGF0ZSA9PiBzdGF0ZS5Qcm9kdWN0cy5kaXNwbGF5UHJvZHVjdHMsCiAgICAgIGFwQ291bnQ6IHN0YXRlID0+IHN0YXRlLlByb2R1Y3RzLmFwQ291bnQsCiAgICAgIHBlclBhZ2U6IHN0YXRlID0+IHN0YXRlLlByb2R1Y3RzLnBlclBhZ2UKICAgIH0pCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5hZG1pbiA9IHRoaXMuJHN0b3JlLnN0YXRlLkN1cnJlbnRVc2VyLmFkbWluOwogIH0sCiAgbWV0aG9kczogewogICAgcmVmcmVzaENhcnRCdG4oKSB7CiAgICAgIHRoaXMuY2FydENvbXBvbmVudEtleSArPSAxOwogICAgICB0aGlzLndpc2hsaXN0S2V5ICs9IDE7CiAgICB9LAogICAgYXN5bmMgZGVsZXRlUHJvZHVjdChwcm9kdWN0KSB7CiAgICAgIGF3YWl0IFdpc2hsaXN0U2VydmljZS5kZWxldGVXaXNoSXRlbUJ5UHJvZHVjdChwcm9kdWN0LmlkKTsKICAgICAgYXdhaXQgUHJvZHVjdHNTZXJ2aWNlLmRlbGV0ZVByb2R1Y3QocHJvZHVjdC5pZCk7CiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJQcm9kdWN0cy9zZXRBbGxCYWNrdXBQcm9kdWN0cyIpOwogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiV2lzaGxpc3Qvc2V0V2lzaGxpc3QiKTsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSwKICAgIGFzeW5jIHBhZ2luYXRlKGN1cnJlbnRQYWdlKSB7CiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJQcm9kdWN0cy9wYWdpbmF0ZSIsIGN1cnJlbnRQYWdlKTsKICAgICAgdGhpcy5yZWZyZXNoQ2FydEJ0bigpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":"AAgLA;AACA;AACA;AACA;AACA;AACA;EACAA;EACAC;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACA;MACA;MACA;MACA;MACA;MACAC;IACA;IACA;MACA;MACA;IACA;EACA;AACA","names":["name","props","components","AddToWishlist","AddToCart","data","admin","wishlistKey","currentPage","cartComponentKey","computed","displayProducts","apCount","perPage","mounted","methods","refreshCartBtn","window"],"sourceRoot":"src/components/Products","sources":["ProductList.vue"],"sourcesContent":["<template>\n  <div>\n    <b-row>\n      <div class=\"col-md-4 mt-2\" v-for=\"product in displayProducts\" :key=\"product.id\"> \n        <div class=\"card\">\n          <div class=\"card-body\">\n            <div class=\"card-img-actions\">\n              <img :src=\"product.image1\" class=\"card-img img-fluid\" width=\"96\" height=\"350\" alt=\"\" @click=\"$router.push({ path: `/product/${product.id}` })\">\n            </div>\n          </div>\n          <div class=\"card-body bg-light text-center\">\n            <div class=\"mb-2\">\n              <h6 class=\"font-weight-semibold mb-2\">\n                <a class=\"text-default mb-2\" data-abc=\"true\" @click=\"$router.push({ path: `/product/${product.id}` })\">{{ product.title }}</a>\n              </h6>\n              <!-- Categorie -->\n              <a href=\"#\" class=\"text-muted\" data-abc=\"true\">Laptops & Notebooks</a>\n            </div>\n            <h3 class=\"mb-0 font-weight-semibold\">{{ product.amount }} Fcfa</h3>\n            <div>\n              <b-form-rating\n                :precision=\"\n                  Math.round(product.rating) == product.rating ? 0 : 1\n                \"\n                size=\"sm\"\n                show-value\n                show-value-max\n                readonly\n                :value=\"product.rating\"\n                variant=\"primary\"\n              />\n            </div>\n            <b-row>\n              <b-col cols=\"4\">\n                <AddToWishlist\n                  class=\"mt-2\"\n                  :key=\"wishlistKey\"\n                  addButtonTitle=\"\"\n                  addedButtonTitle=\"\"\n                  buttonType=\"sm\"\n                  :productId=\"product.id\"\n                />\n              </b-col>\n              <b-col cols=\"8\">\n                <AddToCart\n                  class=\"mt-2\"\n                  addButtonTitle=\"Ajouter au panier\"\n                  addedButtonTitle=\"Produit ajouté\"\n                  buttonType=\"sm\"\n                  :key=\"cartComponentKey\"\n                  :productId=\"product.id\"\n                  :rating=\"product.rating\"\n                  :currency=\"product.currency\"\n                  :image=\"product.image1\"\n                  :title=\"product.title\"\n                  :amount=\"product.amount\"\n                />\n              </b-col>\n              <b-button\n              v-if=\"admin\"\n              class=\"mt-2\"\n              @click=\"deleteProduct(product)\"\n              size=\"sm\"\n              variant=\"danger\"\n            >\n              <b-icon icon=\"trash\" />\n              Delete\n            </b-button>\n            </b-row>                \n          </div>\n        </div>               \n       </div> \n\n\n\n      \n      <!-- <b-col cols=\"4\" v-for=\"product in displayProducts\" :key=\"product.id\">\n        <b-card-group deck>\n          <b-card img-top style=\"max-width: 25rem\" class=\"mb-4\">\n            <b-card-img\n              @click=\"$router.push({ path: `/product/${product.id}` })\"\n              :src=\"product.image1\"\n              style=\"max-width: 25rem; max-height: 25rem\"\n              alt=\"Image Not Found\"\n            />\n            <div class=\"mt-2\">\n              <b-link :to=\"`/product/${product.id}`\">\n                {{ product.title }}\n              </b-link>\n            </div>\n            <h6 class=\"mt-1\">\n              Price: {{ product.amount }} {{ product.currency }}\n            </h6>\n            <b-row class=\"mt-2\" align-v=\"center\">\n              <b-col cols=\"12\">\n                <b-form-rating\n                  :precision=\"\n                    Math.round(product.rating) == product.rating ? 0 : 1\n                  \"\n                  size=\"sm\"\n                  show-value\n                  show-value-max\n                  readonly\n                  :value=\"product.rating\"\n                  variant=\"primary\"\n                />\n              </b-col>\n            </b-row>\n            <div class=\"d-flex justify-content-between\">\n              <AddToCart\n                class=\"mt-2\"\n                addButtonTitle=\"Add To Cart\"\n                addedButtonTitle=\"In Cart\"\n                :key=\"cartComponentKey\"\n                buttonType=\"sm\"\n                :productId=\"product.id\"\n                :rating=\"product.rating\"\n                :currency=\"product.currency\"\n                :image=\"product.image1\"\n                :title=\"product.title\"\n                :amount=\"product.amount\"\n              />\n              <AddToWishlist\n                class=\"mt-2\"\n                addButtonTitle=\"Save\"\n                addedButtonTitle=\"Saved\"\n                :key=\"wishlistKey\"\n                buttonType=\"sm\"\n                :productId=\"product.id\"\n              />\n            </div>\n            <b-button\n              v-if=\"admin\"\n              class=\"mt-2\"\n              @click=\"deleteProduct(product)\"\n              size=\"sm\"\n              variant=\"danger\"\n            >\n              <b-icon icon=\"trash\" />\n              Delete\n            </b-button>\n          </b-card>\n        </b-card-group>\n      </b-col> -->\n    </b-row>\n    <b-row class=\"mt-3 mb-5\" v-if=\"this.apCount == 0\">\n      <b-col>\n        <h2>...</h2>\n      </b-col>\n    </b-row>\n    <b-row v-if=\"this.apCount != 0\" class=\"mt-3\" align-v=\"center\">\n      <b-col>\n        <b-pagination\n          size=\"\"\n          v-model=\"currentPage\"\n          :total-rows=\"apCount\"\n          :per-page=\"perPage\"\n          @input=\"paginate(currentPage)\"\n        ></b-pagination>\n      </b-col>\n      <b-col />\n      <b-col>\n        <h6>\n          Produit {{ (currentPage - 1) * perPage + 1 }} à\n          {{\n            currentPage * perPage > apCount ? apCount : currentPage * perPage\n          }}\n          sur {{ apCount }} ({{ Math.ceil(apCount / perPage) }}\n          pages)\n        </h6>\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport AddToCart from \"@/components/MaintainProduct/AddToCart.vue\";\nimport AddToWishlist from \"@/components/MaintainProduct/AddToWishlist.vue\";\nimport ProductsService from \"@/services/ProductsService.js\";\nimport WishlistService from \"@/services/WishlistService.js\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"ProductList\",\n  props: {},\n  components: {\n    AddToWishlist,\n    AddToCart\n  },\n  data() {\n    return {\n      admin: false,\n      wishlistKey: 4,\n      currentPage: 1,\n      cartComponentKey: 2\n    };\n  },\n  computed: {\n    ...mapState({\n      displayProducts: state => state.Products.displayProducts,\n      apCount: state => state.Products.apCount,\n      perPage: state => state.Products.perPage\n    })\n  },\n  mounted() {\n    this.admin = this.$store.state.CurrentUser.admin;\n  },\n  methods: {\n    refreshCartBtn() {\n      this.cartComponentKey += 1;\n      this.wishlistKey += 1;\n    },\n    async deleteProduct(product) {\n      await WishlistService.deleteWishItemByProduct(product.id);\n      await ProductsService.deleteProduct(product.id);\n      await this.$store.dispatch(\"Products/setAllBackupProducts\");\n      await this.$store.dispatch(\"Wishlist/setWishlist\");\n      window.location.reload();\n    },\n    async paginate(currentPage) {\n      await this.$store.dispatch(\"Products/paginate\", currentPage);\n      this.refreshCartBtn();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}