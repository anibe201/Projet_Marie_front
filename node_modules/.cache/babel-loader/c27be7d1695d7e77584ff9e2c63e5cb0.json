{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\Products\\SubSubCategorySidebar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\Products\\SubSubCategorySidebar.vue","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\babel.config.js","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1664810875252}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IFN1YlN1YkNhdGVnb3J5U2VydmljZSBmcm9tICJAL3NlcnZpY2VzL1N1YlN1YkNhdGVnb3J5U2VydmljZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU3ViU3ViQ2F0ZWdvcnlTaWRlYmFyIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV3U3ViU3ViQ2F0ZWdvcnk6ICIiLAogICAgICBzZWFyY2hQYXJhbWV0ZXI6IHt9LAogICAgICBzdWJTdWJDYXRlZ29yeUxpc3Q6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKHsKICAgICAgYWRtaW46IHN0YXRlID0+IHN0YXRlLkN1cnJlbnRVc2VyLmFkbWluCiAgICB9KQogIH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIHRoaXMuc2VhcmNoUGFyYW1ldGVyID0gdGhpcy4kc3RvcmUuc3RhdGUuUHJvZHVjdHMuc2VhcmNoUGFyYW1ldGVyOwogICAgdGhpcy5zdWJTdWJDYXRlZ29yeUxpc3QgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ2F0ZWdvcnkvZ2V0U3ViU3ViQ2F0ZWdvcnlMaXN0Iik7CiAgICB0aGlzLnN1YlN1YkNhdGVnb3J5TGlzdCA9IHRoaXMuc3ViU3ViQ2F0ZWdvcnlMaXN0Lm1hcChvYmogPT4gKHsKICAgICAgLi4ub2JqLAogICAgICBtb2RlOiAwCiAgICB9KSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBjcmVhdGVOZXdTdWJTdWJDYXRlZygpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBTdWJTdWJDYXRlZ29yeVNlcnZpY2UuY3JlYXRlU3ViU3ViQ2F0ZWdvcnkoewogICAgICAgICAgbmFtZTogdGhpcy5uZXdTdWJTdWJDYXRlZ29yeSwKICAgICAgICAgIFN1YkNhdGVnb3J5SWQ6IHRoaXMuc2VhcmNoUGFyYW1ldGVyLnN1YkNhdGVnb3J5SWQKICAgICAgICB9KTsKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiQ2F0ZWdvcnkvc2V0U3ViU3ViQ2F0ZWdvcnlMaXN0Iik7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgdXBkYXRlU3ViU3ViQ2F0ZWdvcnkoc3ViU3ViQ2F0ZWdvcnkpIHsKICAgICAgdHJ5IHsKICAgICAgICBkZWxldGUgc3ViU3ViQ2F0ZWdvcnkubW9kZTsKICAgICAgICBhd2FpdCBTdWJTdWJDYXRlZ29yeVNlcnZpY2UudXBkYXRlU3ViU3ViQ2F0ZWdvcnkoc3ViU3ViQ2F0ZWdvcnkpOwogICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJDYXRlZ29yeS9zZXRTdWJTdWJDYXRlZ29yeUxpc3QiKTsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBkZWxldGVTdWJTdWJDYXRlZ29yeShzdWJTdWJDYXRlZ29yeSkgewogICAgICB0cnkgewogICAgICAgIGF3YWl0IFN1YlN1YkNhdGVnb3J5U2VydmljZS5kZWxldGVTdWJTdWJDYXRlZ29yeShzdWJTdWJDYXRlZ29yeS5pZCk7CiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIkNhdGVnb3J5L3NldFN1YlN1YkNhdGVnb3J5TGlzdCIpOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":"AAsHA;AACA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;IACA;EACA;EAEA;IACA;IACA,qDACA,iCACA;IACA;MACA;MACAC;IACA;EACA;EACAC;IACA;MACA;QACA;UACAR;UACAS;QACA;QACA;QACAC;MACA;QACAC;MACA;IACA;IACA;MACA;QACA;QACA;QACA;QACAD;MACA;QACAC;MACA;IACA;IACA;MACA;QACA;QACA;QACAD;MACA;QACAC;MACA;IACA;EACA;AACA","names":["name","data","newSubSubCategory","searchParameter","subSubCategoryList","computed","admin","mode","methods","SubCategoryId","window","console"],"sourceRoot":"src/components/Products","sources":["SubSubCategorySidebar.vue"],"sourcesContent":["<template>\n  <div>\n    <ul style=\"list-style: none\">\n      <div\n        v-for=\"subSubCategory in subSubCategoryList\"\n        :key=\"subSubCategory.id\"\n      >\n        <li\n          v-if=\"searchParameter.subCategoryId == subSubCategory.SubCategoryId\"\n          class=\"mb-1\"\n        >\n          <b-row v-if=\"subSubCategory.mode == 0\">\n            <div :class=\"{ 'col-12': !admin, 'col-8': admin }\">\n              <b-link\n                variant=\"white\"\n                :to=\"`${$route.path}/${subSubCategory.name}`\"\n              >\n                <small>{{ subSubCategory.name }}</small>\n                <b-icon\n                  variant=\"primary\"\n                  icon=\"triangle-fill\"\n                  scale=\"0.5\"\n                  rotate=\"90\"\n                  shift-v=\"-2\"\n                />\n              </b-link>\n            </div>\n\n            <b-col cols=\"4\" v-if=\"admin\">\n              <b-button-toolbar>\n                <b-button-group size=\"sm\">\n                  <b-button @click=\"subSubCategory.mode ^= 1\" variant=\"white\">\n                    <b-icon\n                      variant=\"primary\"\n                      v-b-tooltip.hover\n                      title=\"Edit\"\n                      icon=\"pen\"\n                    />\n                  </b-button>\n\n                  <b-button\n                    @click=\"deleteSubSubCategory(subSubCategory)\"\n                    variant=\"white\"\n                  >\n                    <b-icon\n                      variant=\"danger\"\n                      v-b-tooltip.hover\n                      title=\"Delete\"\n                      icon=\"trash\"\n                    />\n                  </b-button>\n                </b-button-group>\n              </b-button-toolbar>\n            </b-col>\n          </b-row>\n          <b-form\n            v-if=\"subSubCategory.mode == 1\"\n            @submit.stop.prevent=\"updateSubSubCategory(subSubCategory)\"\n          >\n            <b-row>\n              <b-col cols=\"8\">\n                <b-form-group>\n                  <b-form-input\n                    size=\"sm\"\n                    required\n                    v-model=\"subSubCategory.name\"\n                    placeholder=\"Category Name\"\n                  />\n                </b-form-group>\n              </b-col>\n              <b-col cols=\"4\">\n                <b-button-toolbar>\n                  <b-button-group size=\"sm\">\n                    <b-button type=\"submit\" variant=\"white\">\n                      <b-icon\n                        variant=\"primary\"\n                        v-b-tooltip.hover\n                        title=\"Save\"\n                        icon=\"check2\"\n                      />\n                    </b-button>\n                    <b-button @click=\"subSubCategory.mode ^= 1\" variant=\"white\">\n                      <b-icon\n                        variant=\"danger\"\n                        v-b-tooltip.hover\n                        title=\"Cancel\"\n                        icon=\"x\"\n                      />\n                    </b-button>\n                  </b-button-group>\n                </b-button-toolbar>\n              </b-col>\n            </b-row>\n          </b-form>\n        </li>\n      </div>\n      <div v-if=\"admin\">\n        <b-card>\n          <b-form @submit.stop.prevent=\"createNewSubSubCateg\">\n            <b-form-group>\n              <b-form-input\n                size=\"sm\"\n                required\n                v-model=\"newSubSubCategory\"\n                placeholder=\"Category Name\"\n              />\n            </b-form-group>\n            <b-button size=\"sm\" type=\"submit\" variant=\"warning\">\n              Create\n            </b-button>\n          </b-form>\n        </b-card>\n      </div>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport SubSubCategoryService from \"@/services/SubSubCategoryService.js\";\n\nexport default {\n  name: \"SubSubCategorySidebar\",\n  data() {\n    return {\n      newSubSubCategory: \"\",\n      searchParameter: {},\n      subSubCategoryList: []\n    };\n  },\n  computed: {\n    ...mapState({\n      admin: state => state.CurrentUser.admin\n    })\n  },\n\n  async mounted() {\n    this.searchParameter = this.$store.state.Products.searchParameter;\n    this.subSubCategoryList = await this.$store.dispatch(\n      \"Category/getSubSubCategoryList\"\n    );\n    this.subSubCategoryList = this.subSubCategoryList.map(obj => ({\n      ...obj,\n      mode: 0\n    }));\n  },\n  methods: {\n    async createNewSubSubCateg() {\n      try {\n        await SubSubCategoryService.createSubSubCategory({\n          name: this.newSubSubCategory,\n          SubCategoryId: this.searchParameter.subCategoryId\n        });\n        await this.$store.dispatch(\"Category/setSubSubCategoryList\");\n        window.location.reload();\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    },\n    async updateSubSubCategory(subSubCategory) {\n      try {\n        delete subSubCategory.mode;\n        await SubSubCategoryService.updateSubSubCategory(subSubCategory);\n        await this.$store.dispatch(\"Category/setSubSubCategoryList\");\n        window.location.reload();\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    },\n    async deleteSubSubCategory(subSubCategory) {\n      try {\n        await SubSubCategoryService.deleteSubSubCategory(subSubCategory.id);\n        await this.$store.dispatch(\"Category/setSubSubCategoryList\");\n        window.location.reload();\n      } catch (error) {\n        console.log(error.response.data.error);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\"></style>\n"]}]}