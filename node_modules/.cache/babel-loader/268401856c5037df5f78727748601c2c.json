{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\User\\ReqPassToken.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\components\\User\\ReqPassToken.vue","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\babel.config.js","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664810865393},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1664810865430},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664810865393},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1664810875252}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEF1dGhlbnRpY2F0aW9uU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL0F1dGhlbnRpY2F0aW9uU2VydmljZS5qcyI7CmltcG9ydCBVc2VyU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL1VzZXJTZXJ2aWNlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZXFQYXNzVG9rZW4iLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbFJlc2V0UGFzc3dvcmQ6IG51bGwsCiAgICAgIHRva2VuQWxlcnQ6IG51bGwsCiAgICAgIG1haWxTZW50OiBmYWxzZSwKICAgICAgdG9rZW5BbGVydE1lc3NhZ2U6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczogewogICAgYXN5bmMgcmVxdWVzdFBhc3N3b3JkVG9rZW4oKSB7CiAgICAgIHZhciB1c2VyOwogICAgICB0cnkgewogICAgICAgIHRoaXMubWFpbFNlbnQgPSBmYWxzZTsKICAgICAgICB1c2VyID0gKGF3YWl0IFVzZXJTZXJ2aWNlLmdldFVzZXJCeUVtYWlsKHRoaXMuZW1haWxSZXNldFBhc3N3b3JkKSkuZGF0YTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLnRva2VuQWxlcnQgPSB0cnVlOwogICAgICAgIHRoaXMudG9rZW5BbGVydE1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yOwogICAgICB9CiAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGF3YWl0IEF1dGhlbnRpY2F0aW9uU2VydmljZS5yZXF1ZXN0UGFzc3dvcmRUb2tlbih7CiAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsUmVzZXRQYXNzd29yZAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnRva2VuQWxlcnQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMubWFpbFNlbnQgPSB0cnVlOwogICAgICAgICAgdGhpcy5lbWFpbFJlc2V0UGFzc3dvcmQgPSAiIjsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgdGhpcy50b2tlbkFsZXJ0ID0gdHJ1ZTsKICAgICAgICAgIHRoaXMudG9rZW5BbGVydE1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":"AAuCA;AACA;AACA;EACAA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;EACAC;IACA;MACA;MACA;QACA;QACAC;MACA;QACA;QACA;MACA;MACA;QACA;UACA;YACAC;UACA;UACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;IACA;EACA;AACA","names":["name","components","data","emailResetPassword","tokenAlert","mailSent","tokenAlertMessage","computed","methods","user","email"],"sourceRoot":"src/components/User","sources":["ReqPassToken.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"p-2 mt-2\" style=\"background-color: #f4f6f8\">\n      <b-form @submit.stop.prevent=\"requestPasswordToken\">\n        <b-form-group\n          class=\"mb-2 font-weight-bold\"\n          label=\"Enter your email address\"\n          label-for=\"input-email-for-token\"\n        >\n          <b-form-input\n            v-model=\"emailResetPassword\"\n            ref=\"emailField2\"\n            id=\"input-email-for-token\"\n            @keyup=\"mailSent = false\"\n            type=\"email\"\n            required\n          />\n        </b-form-group>\n        <small>We will send you a link to reset your password.</small><br />\n        <b-alert variant=\"primary\" class=\"my-2 p-1 pl-2\" :show=\"tokenAlert\">\n          {{ tokenAlertMessage }}\n        </b-alert>\n        <b-button class=\"mt-2\" variant=\"outline-dark\" type=\"submit\">\n          Submit\n        </b-button>\n        <b-card class=\"mt-3\" v-if=\"mailSent\">\n          <div><strong>Request accepted</strong></div>\n          <hr class=\"my-1\" />\n          <div>\n            Check your email for a link to reset your password. If it doesnâ€™t\n            appear within a few minutes, check your spam folder.\n          </div>\n        </b-card>\n      </b-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AuthenticationService from \"@/services/AuthenticationService.js\";\nimport UserService from \"@/services/UserService.js\";\nexport default {\n  name: \"ReqPassToken\",\n  components: {},\n  data() {\n    return {\n      emailResetPassword: null,\n      tokenAlert: null,\n      mailSent: false,\n      tokenAlertMessage: null\n    };\n  },\n  computed: {},\n  methods: {\n    async requestPasswordToken() {\n      var user;\n      try {\n        this.mailSent = false;\n        user = (await UserService.getUserByEmail(this.emailResetPassword)).data;\n      } catch (error) {\n        this.tokenAlert = true;\n        this.tokenAlertMessage = error.response.data.error;\n      }\n      if (user) {\n        try {\n          await AuthenticationService.requestPasswordToken({\n            email: this.emailResetPassword\n          });\n          this.tokenAlert = false;\n          this.mailSent = true;\n          this.emailResetPassword = \"\";\n        } catch (error) {\n          this.tokenAlert = true;\n          this.tokenAlertMessage = error.response.data.error;\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}