{"remainingRequest":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\views\\User\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\src\\views\\User\\Register.vue","mtime":1667811021069},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\babel.config.js","mtime":1645609201000},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1665053040434},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664720015241},{"path":"C:\\Users\\AlexisAnohVianneyANI\\Downloads\\emarket-main\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1665053078023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBBdXRoZW50aWNhdGlvblNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9BdXRoZW50aWNhdGlvblNlcnZpY2UuanMiOwppbXBvcnQgVG9wSGVhZGVyIGZyb20gIkAvY29tcG9uZW50cy9Db21tb24vVG9wSGVhZGVyLnZ1ZSI7CmltcG9ydCBGb290ZXIgZnJvbSAiQC9jb21wb25lbnRzL0NvbW1vbi9Gb290ZXIudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWdpc3RlciIsCiAgY29tcG9uZW50czogewogICAgVG9wSGVhZGVyLAogICAgRm9vdGVyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlyc3ROYW1lOiBudWxsLAogICAgICBsYXN0TmFtZTogbnVsbCwKICAgICAgZW1haWw6IG51bGwsCiAgICAgIGZvcm1hdE5hbWU6IC9eLnsxLDE1fSQvLAogICAgICBmb3JtYXRFbWFpbDogL15bYS16QS1aMC05Ll8lKy1dK0BbYS16QS1aMC05Li1dK1wuW2EtekEtWl17Miw0fSQvLAogICAgICBmb3JtYXRQYXNzd29yZDogL15bYS16QS16MC05XXs4LDMyfSQvLAogICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgdmFsaWRFbWFpbDogdHJ1ZSwKICAgICAgY29uZmlybVBhc3N3b3JkOiBudWxsLAogICAgICBlbWFpbE1lc3NhZ2U6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kcmVmcy5maXJzdE5hbWVGaWVsZC5mb2N1cygpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRva2VuQWxlcnQoKSB7CiAgICAgIGlmICh0aGlzLm1lc3NhZ2UgPT0gbnVsbCkgcmV0dXJuIG51bGw7ZWxzZSBpZiAodGhpcy5tZXNzYWdlLmxlbmd0aCA9PSAwKSByZXR1cm4gZmFsc2U7ZWxzZSByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBmaXJzdE5hbWVWYWxpZGF0aW9uKCkgewogICAgICBpZiAodGhpcy5maXJzdE5hbWUgPT0gbnVsbCkgcmV0dXJuIG51bGw7ZWxzZSBpZiAoIXRoaXMuZm9ybWF0TmFtZS50ZXN0KHRoaXMuZmlyc3ROYW1lKSkgcmV0dXJuIGZhbHNlO2Vsc2UgcmV0dXJuIHRydWU7CiAgICB9LAogICAgbGFzdE5hbWVWYWxpZGF0aW9uKCkgewogICAgICBpZiAodGhpcy5sYXN0TmFtZSA9PSBudWxsKSByZXR1cm4gbnVsbDtlbHNlIGlmICghdGhpcy5mb3JtYXROYW1lLnRlc3QodGhpcy5sYXN0TmFtZSkpIHJldHVybiBmYWxzZTtlbHNlIHJldHVybiB0cnVlOwogICAgfSwKICAgIGVtYWlsVmFsaWRhdGlvbigpIHsKICAgICAgaWYgKHRoaXMuZW1haWwgPT0gbnVsbCkgcmV0dXJuIG51bGw7ZWxzZSBpZiAoIXRoaXMuZm9ybWF0RW1haWwudGVzdCh0aGlzLmVtYWlsKSkgcmV0dXJuIGZhbHNlO2Vsc2UgcmV0dXJuIHRydWU7CiAgICB9LAogICAgbmV3UGFzc3dvcmRWYWxpZGF0aW9uKCkgewogICAgICBpZiAodGhpcy5wYXNzd29yZCA9PSBudWxsKSByZXR1cm4gbnVsbDtlbHNlIGlmICghdGhpcy5mb3JtYXRQYXNzd29yZC50ZXN0KHRoaXMucGFzc3dvcmQpKSByZXR1cm4gZmFsc2U7ZWxzZSByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBjb25maXJtUGFzc3dvcmRWYWxpZGF0aW9uKCkgewogICAgICBpZiAodGhpcy5jb25maXJtUGFzc3dvcmQgPT0gbnVsbCkgcmV0dXJuIG51bGw7ZWxzZSBpZiAodGhpcy5jb25maXJtUGFzc3dvcmQgIT0gdGhpcy5wYXNzd29yZCB8fCAhdGhpcy5mb3JtYXRQYXNzd29yZC50ZXN0KHRoaXMuY29uZmlybVBhc3N3b3JkKSkgcmV0dXJuIGZhbHNlO2Vsc2UgcmV0dXJuIHRydWU7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBjcmVhdGVBY2NvdW50KCkgewogICAgICBpZiAoIXRoaXMuZmlyc3ROYW1lVmFsaWRhdGlvbiB8fCAhdGhpcy5sYXN0TmFtZVZhbGlkYXRpb24gfHwgIXRoaXMuZW1haWxWYWxpZGF0aW9uIHx8ICF0aGlzLm5ld1Bhc3N3b3JkVmFsaWRhdGlvbiB8fCAhdGhpcy5jb25maXJtUGFzc3dvcmRWYWxpZGF0aW9uKSByZXR1cm47CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IEF1dGhlbnRpY2F0aW9uU2VydmljZS5yZWdpc3Rlcih7CiAgICAgICAgICBmaXJzdE5hbWU6IHRoaXMuZmlyc3ROYW1lLAogICAgICAgICAgbGFzdE5hbWU6IHRoaXMubGFzdE5hbWUsCiAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIkN1cnJlbnRVc2VyL3NldE5ld1VzZXJJZCIsIHVzZXIuZGF0YS5pZCk7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIkN1cnJlbnRVc2VyL3NldE5ld1VzZXJFbWFpbCIsIHRoaXMuZW1haWwpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIvdXNlci12ZXJpZnkiCiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy52YWxpZEVtYWlsID0gZmFsc2U7CiAgICAgICAgdGhpcy5lbWFpbE1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";AAkJA;AACA;AACA;AACA;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA,2CACA,gDACA;IACA;IACAC;MACA,6CACA,6DACA;IACA;IACAC;MACA,4CACA,4DACA;IACA;IACAC;MACA,yCACA,0DACA;IACA;IACAC;MACA,4CACA,gEACA;IACA;IACAC;MACA,mDACA,IACA,yCACA,iDAEA,kBACA;IACA;EACA;EACAC;IACA;MACA,IACA,6BACA,4BACA,yBACA,+BACA,iCAEA;MACA;QACA;UACAlB;UACAC;UACAC;UACAI;QACA;QACA;QACA;QAEA;UAAAa;QAAA;MACA;QACA;QACA;MACA;IACA;EACA;AACA","names":["name","components","TopHeader","Footer","data","firstName","lastName","email","formatName","formatEmail","formatPassword","password","validEmail","confirmPassword","emailMessage","mounted","computed","tokenAlert","firstNameValidation","lastNameValidation","emailValidation","newPasswordValidation","confirmPasswordValidation","methods","path"],"sourceRoot":"src/views/User","sources":["Register.vue"],"sourcesContent":["<template>\n  <div>\n    <TopHeader />\n    <b-container class=\"mt-5\">\n      <b-row align-h=\"center\">\n        <b-col cols=\"7\">\n          <b-card style=\"color: #001e5f\">\n            <h4 class=\"font-weight-bold\">Créer votre compte</h4>\n            <b-form @submit.stop.prevent=\"createAccount\" class=\"mt-4\">\n              <b-row>\n                <b-col>\n                  <b-form-group\n                    id=\"input-group-first-name\"\n                    label=\"Prénom\"\n                    label-for=\"input-first-name\"\n                  >\n                    <b-form-input\n                      v-model=\"firstName\"\n                      ref=\"firstNameField\"\n                      id=\"input-first-name\"\n                      type=\"text\"\n                      :state=\"firstNameValidation\"\n                      required\n                    />\n                    <b-form-invalid-feedback\n                      v-if=\"firstName\"\n                      :state=\"firstNameValidation\"\n                    >\n                      Your first name could be 15 character long.\n                    </b-form-invalid-feedback>\n                  </b-form-group>\n                </b-col>\n                <b-col>\n                  <b-form-group\n                    id=\"input-group-last-name\"\n                    label=\"Nom\"\n                    label-for=\"input-last-name\"\n                  >\n                    <b-form-input\n                      v-model=\"lastName\"\n                      id=\"input-last-name\"\n                      type=\"text\"\n                      :state=\"lastNameValidation\"\n                      required\n                    />\n                    <b-form-invalid-feedback\n                      v-if=\"lastName\"\n                      :state=\"lastNameValidation\"\n                    >\n                      Your last name could be 15 character long.\n                    </b-form-invalid-feedback>\n                  </b-form-group>\n                </b-col>\n              </b-row>\n              <b-form-group\n                id=\"input-group-email\"\n                label=\"Email\"\n                label-for=\"input-email\"\n              >\n                <b-form-input\n                  v-model=\"email\"\n                  id=\"input-email\"\n                  type=\"email\"\n                  @keyup=\"validEmail = true\"\n                  :state=\"validEmail && emailValidation\"\n                  required\n                />\n                <b-form-invalid-feedback\n                  v-if=\"email\"\n                  :state=\"validEmail && emailValidation\"\n                >\n                  {{ emailMessage }}\n                </b-form-invalid-feedback>\n              </b-form-group>\n\n              <b-row>\n                <b-col>\n                  <b-form-group\n                    id=\"input-group-password\"\n                    label=\"Mot de passe\"\n                    label-for=\"input-password\"\n                  >\n                    <b-form-input\n                      v-model=\"password\"\n                      id=\"input-password\"\n                      type=\"password\"\n                      :state=\"newPasswordValidation\"\n                      required\n                    />\n                    <b-form-invalid-feedback\n                      v-if=\"password\"\n                      :state=\"newPasswordValidation\"\n                    >\n                      Your password could be 8-32 character long, contain\n                      letters, numbers and must not contain space.\n                    </b-form-invalid-feedback>\n                  </b-form-group>\n                </b-col>\n                <b-col>\n                  <b-form-group\n                    id=\"input-group-confirm-password\"\n                    label=\"Confirmer\"\n                    label-for=\"input-confirm-password\"\n                  >\n                    <b-form-input\n                      v-model=\"confirmPassword\"\n                      id=\"input-confirm-password\"\n                      type=\"password\"\n                      :state=\"confirmPasswordValidation\"\n                      required\n                    />\n                    <b-form-invalid-feedback\n                      v-if=\"confirmPassword\"\n                      :state=\"confirmPasswordValidation\"\n                    >\n                      Password didn't match\n                    </b-form-invalid-feedback>\n                  </b-form-group>\n                </b-col>\n              </b-row>\n\n              <b-row class=\"mt-3\">\n                <b-col cols=\"3\" />\n                <b-col cols=\"6\">\n                  <b-button block type=\"submit\" class=\"p-2\" variant=\"warning\">\n                    Créer\n                  </b-button>\n                </b-col>\n                <b-col cols=\"3\" />\n              </b-row>\n            </b-form>\n            <hr />\n            <b-row>\n              <b-col class=\"text-center\">\n                <a>Vous avez déja un compte ?</a><a href=\"/login\">&nbsp;Se connecter</a>\n              </b-col>\n            </b-row>\n          </b-card>\n        </b-col>\n      </b-row>\n    </b-container>\n    <Footer class=\"mt-5\" />\n  </div>\n</template>\n\n<script>\nimport AuthenticationService from \"@/services/AuthenticationService.js\";\nimport TopHeader from \"@/components/Common/TopHeader.vue\";\nimport Footer from \"@/components/Common/Footer.vue\";\nexport default {\n  name: \"Register\",\n  components: {\n    TopHeader,\n    Footer\n  },\n  data() {\n    return {\n      firstName: null,\n      lastName: null,\n      email: null,\n      formatName: /^.{1,15}$/,\n      formatEmail: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/,\n      formatPassword: /^[a-zA-z0-9]{8,32}$/,\n      password: null,\n      validEmail: true,\n      confirmPassword: null,\n      emailMessage: null\n    };\n  },\n  mounted() {\n    this.$refs.firstNameField.focus();\n  },\n  computed: {\n    tokenAlert() {\n      if (this.message == null) return null;\n      else if (this.message.length == 0) return false;\n      else return true;\n    },\n    firstNameValidation() {\n      if (this.firstName == null) return null;\n      else if (!this.formatName.test(this.firstName)) return false;\n      else return true;\n    },\n    lastNameValidation() {\n      if (this.lastName == null) return null;\n      else if (!this.formatName.test(this.lastName)) return false;\n      else return true;\n    },\n    emailValidation() {\n      if (this.email == null) return null;\n      else if (!this.formatEmail.test(this.email)) return false;\n      else return true;\n    },\n    newPasswordValidation() {\n      if (this.password == null) return null;\n      else if (!this.formatPassword.test(this.password)) return false;\n      else return true;\n    },\n    confirmPasswordValidation() {\n      if (this.confirmPassword == null) return null;\n      else if (\n        this.confirmPassword != this.password ||\n        !this.formatPassword.test(this.confirmPassword)\n      )\n        return false;\n      else return true;\n    }\n  },\n  methods: {\n    async createAccount() {\n      if (\n        !this.firstNameValidation ||\n        !this.lastNameValidation ||\n        !this.emailValidation ||\n        !this.newPasswordValidation ||\n        !this.confirmPasswordValidation\n      )\n        return;\n      try {\n        const user = await AuthenticationService.register({\n          firstName: this.firstName,\n          lastName: this.lastName,\n          email: this.email,\n          password: this.password\n        });\n        this.$store.dispatch(\"CurrentUser/setNewUserId\", user.data.id);\n        this.$store.dispatch(\"CurrentUser/setNewUserEmail\", this.email);\n\n        this.$router.push({ path: \"/user-verify\" });\n      } catch (error) {\n        this.validEmail = false;\n        this.emailMessage = error.response.data.error;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\"></style>\n"]}]}